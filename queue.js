async function fetchAndFilterSongs(t=!1){const e=document.getElementById("queue");if(!e)return;const a=e.getAttribute("data-lang-queue")||"",r=e.getAttribute("data-movie-queue-name")||"",o=e.getAttribute("data-type-queue")||"",i=e.getAttribute("data-queue-meta")||"",s=e.getAttribute("data-type-year")||"";let n=[];i&&(n=i.replace(/[\[\]]/g,"").split(",").map((t=>t.trim())).filter(Boolean));const l=e.querySelector("li.plyr-item.is-to-fetch");l&&l.remove();const u=new Set;e.querySelectorAll("li[data-queue-id]").forEach((t=>{u.add(t.getAttribute("data-queue-id"))}));const c=o.trim().toUpperCase(),d=!["OST","BGM","OTHER","MOVIE"].includes(c);function g(t){for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}}function f(t,e,a={}){const r=[],o=a.type?a.type.trim().toUpperCase():null,i=a.requireMovie?a.requireMovie.trim().toLowerCase():null;return t.forEach((t=>{if(t.category){if((Array.isArray(t.category)?t.category:[t.category]).some((t=>t&&"string"==typeof t.term&&"Main Album"===t.term.trim())))return}let s=!1;if(t.category){s=(Array.isArray(t.category)?t.category:[t.category]).some((t=>t&&"string"==typeof t.term&&"explicit"===t.term.trim().toLowerCase()))}let n="";if(t.id&&t.id.$t){const e=t.id.$t;n=e.includes(".post-")?e.split(".post-")[1]:e}if(!n)return;if(a.existingNumericIds&&a.existingNumericIds.has(n))return;if(!t.content||!t.content.$t)return;const l=(new DOMParser).parseFromString(t.content.$t,"text/html").querySelector("#post-song-data");if(!l)return;const u=l.getAttribute("data-music")||"",c=l.getAttribute("data-image")||"",d=l.getAttribute("data-title-name")||"",g=l.getAttribute("data-artist")||"",f=l.getAttribute("data-duration")||"",p=l.getAttribute("data-language")||"",m=l.getAttribute("data-song-type")||"",y=l.getAttribute("data-movie")||"",h=l.getAttribute("data-mood")||"",b=l.getAttribute("data-genre")||"",A=l.getAttribute("data-year")||"";let v="";if(Array.isArray(t.link)){const e=t.link.find((t=>"alternate"===t.rel&&t.href));e&&(v=e.href)}if(v||(v="#"),p!==e)return;if(i){if(y.trim().toLowerCase()!==i)return}if(o&&(!m||m.trim().toUpperCase()!==o))return;if(a.metaKeywords&&a.metaKeywords.length>0){const t=h?h.trim().toLowerCase():"";if(!a.metaKeywords.some((e=>e.trim().toLowerCase()===t)))return}let C=null;if(t.category){const e=Array.isArray(t.category)?t.category:[t.category];for(const t of e)if(t&&"string"==typeof t.term){const e=t.term.trim().match(/^Order\s*(\d+)$/i);if(e){C=parseInt(e[1],10);break}}}const S={songId:n,isExplicit:s,postUrl:v,musicId:u,imageUrl:c,songName:d,artist:g,duration:f,mood:h,genre:b,year:A};null!==C&&(S.order=C),r.push(S)})),r}let p=[];if(t&&r)p=await async function(t,e,a,r,o=100){const i=[];let s=1;const n=t.trim().toLowerCase(),l=r.trim().toUpperCase(),u=new DOMParser;for(;i.length<o;){const c=`/feeds/posts/default?alt=json&max-results=99&start-index=${s}&q=${encodeURIComponent(t)}`;let d;try{const t=await fetch(c);if(!t.ok){console.error(`Failed to fetch movie feed page: ${t.status}`);break}d=await t.json()}catch(t){console.error("Error fetching movie feed page:",t);break}const g=d.feed&&d.feed.entry||d.entry||[];if(!g.length)break;let f=!1;for(const t of g){if(t.category&&(Array.isArray(t.category)?t.category:[t.category]).some((t=>t&&"string"==typeof t.term&&"Main Album"===t.term.trim())))continue;let s=!1;t.category&&(s=(Array.isArray(t.category)?t.category:[t.category]).some((t=>t&&"string"==typeof t.term&&"explicit"===t.term.trim().toLowerCase())));let c="";if(t.id&&t.id.$t){const e=t.id.$t;c=e.includes(".post-")?e.split(".post-")[1]:e}if(!c)continue;if(a.has(c))continue;if(!t.content||!t.content.$t)continue;const d=u.parseFromString(t.content.$t,"text/html").querySelector("#post-song-data");if(!d)continue;if((d.getAttribute("data-language")||"")!==e)continue;if((d.getAttribute("data-movie")||"").trim().toLowerCase()!==n)continue;if(r&&(d.getAttribute("data-song-type")||"").trim().toUpperCase()!==l)continue;const g=d.getAttribute("data-music")||"",p=d.getAttribute("data-image")||"",m=d.getAttribute("data-title-name")||"",y=d.getAttribute("data-artist")||"",h=d.getAttribute("data-duration")||"",b=d.getAttribute("data-mood")||"",A=d.getAttribute("data-genre")||"",v=d.getAttribute("data-year")||"";let C=null;if(t.category){const e=Array.isArray(t.category)?t.category:[t.category];for(const t of e)if(t&&"string"==typeof t.term){const e=t.term.trim().match(/^Order\s*(\d+)$/i);if(e){C=parseInt(e[1],10);break}}}let S="#";if(Array.isArray(t.link)){const e=t.link.find((t=>"alternate"===t.rel&&t.href));e&&(S=e.href)}const q={songId:c,isExplicit:s,postUrl:S,musicId:g,imageUrl:p,songName:m,artist:y,duration:h,mood:b,genre:A,year:v};if(null!==C&&(q.order=C),i.push(q),a.add(c),f=!0,i.length>=o)break}if(!f)break;s+=99}if(i.some((t=>null!=t.order)))return[...i.filter((t=>null!=t.order)).sort(((t,e)=>t.order-e.order)),...i.filter((t=>null==t.order))];return i}(r,a,u,o,100);else{const t=(t,e)=>`/feeds/posts/default/-/Song/${encodeURIComponent(a)}?alt=json&max-results=${e}&start-index=${t}&orderby=published`,e=t=>{const e={existingNumericIds:u};return o&&(e.type=o),n.length&&(e.metaKeywords=n),f(t,a,e)},r=t=>t.length>=100,i=await async function(t,e,a,r=99){const o=[];let i=1;for(;;){const s=t(i,r);let n;try{const t=await fetch(s);if(!t.ok){console.error(`Failed to fetch paginated feed: ${t.status}`);break}n=await t.json()}catch(t){console.error("Error fetching paginated feed:",t);break}const l=n.feed&&n.feed.entry||n.entry||[];if(!l.length)break;const u=e(l);for(const t of u)o.some((e=>e.songId===t.songId))||o.push(t);if(a(o))break;i+=r}return o}(t,e,r,99);p=i.slice(0,100),p.forEach((t=>u.add(t.songId))),d&&g(p)}if(!t&&s){const t=await async function(t,e,a,r=99){new DOMParser;let o=[];const i=Math.floor(500*Math.random())+1;let s=`/feeds/posts/default/-/Song/${encodeURIComponent(t)}/${e}?alt=json&max-results=${r}&start-index=${i}&orderby=published`;try{const t=await fetch(s);if(t.ok){const e=await t.json();o=e.feed&&e.feed.entry||[]}}catch(t){o=[]}if(!o.length){s=`/feeds/posts/default/-/Song/${encodeURIComponent(t)}/${e}?alt=json&max-results=${r}`;try{const t=await fetch(s);if(t.ok){const e=await t.json();o=e.feed&&e.feed.entry||[]}}catch(t){o=[]}}return f(o,t,{existingNumericIds:a})}(a,s,u,99);if(t.length){const e=p.reduce(((t,e)=>(t[e.genre]=(t[e.genre]||0)+1,t)),{}),a=Object.entries(e).sort(((t,e)=>e[1]-t[1])).map((t=>t[0]))[0]||"",r=t.filter((t=>t.genre===a)),o=t.filter((t=>t.genre!==a));g(r),g(o);const i=[...r.slice(0,10),...o.slice(0,10)].slice(0,20),s=[],n=new Set;for(const t of i)n.has(t.songId)||(n.add(t.songId),s.push(t));s.forEach((t=>u.add(t.songId))),d?(p=p.concat(s),g(p)):s.forEach((t=>{const e=Math.floor(Math.random()*(p.length+1));p.splice(e,0,t)}))}}p.forEach((t=>{const a=e.lastElementChild;if(a&&a.getAttribute("data-queue-id")===t.songId)return;const r=document.createElement("li");r.className="plyr-item",r.setAttribute("data-queue-id",t.songId),r.setAttribute("data-music-id",t.musicId),r.setAttribute("data-genre",t.genre),r.setAttribute("data-song-source",t.postUrl),r.innerHTML=`<article class="f ai-c plyr-list-item-inner"><div class="f ai-c jc-c plyr-item-list dragQ"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M16 2C17.1046 2 18 2.89543 18 4C18 5.10457 17.1046 6 16 6C14.8954 6 14 5.10457 14 4C14 2.89543 14.8954 2 16 2Z"></path><path d="M16 10C17.1046 10 18 10.8954 18 12C18 13.1046 17.1046 14 16 14C14.8954 14 14 13.1046 14 12C14 10.8954 14.8954 10 16 10Z"></path><path d="M8 18C9.10457 18 10 18.8954 10 20C10 21.1046 9.10457 22 8 22C6.89543 22 6 21.1046 6 20C6 18.8954 6.89543 18 8 18Z"></path><path d="M16 18C17.1046 18 18 18.8954 18 20C18 21.1046 17.1046 22 16 22C14.8954 22 14 21.1046 14 20C14 18.8954 14.8954 18 16 18Z"></path><path d="M8 2C9.10457 2 10 2.89543 10 4C10 5.10457 9.10457 6 8 6C6.89543 6 6 5.10457 6 4C6 2.89543 6.89543 2 8 2Z"></path><path d="M8 10C9.10457 10 10 10.8954 10 12C10 13.1046 9.10457 14 8 14C6.89543 14 6 13.1046 6 12C6 10.8954 6.89543 10 8 10Z"></path></svg></div><div class="plyr-item-list"><div class="plyr-queue-ca"><div class="plyr-qimg"><img alt="${escapeHtml(t.songName)} from Auto Queue Image" width="40" src="${escapeHtml(t.imageUrl)}" loading="lazy" height="40" /><button aria-label="Play Song: ${t.songId}" class="btn queue-play" type="button" data-queue-play-id="${escapeHtml(t.songId)}"><span class="plyr-icon-play"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" stroke-miterlimit="10" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" stroke-miterlimit="10" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" stroke-miterlimit="10" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" stroke-miterlimit="10" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="plyr-qinfo"><span class="plyr-qsn">${escapeHtml(t.songName)}</span><div class="f ai-c gap-5 plyr-qan">${t.isExplicit?'<svg class="px-16 pxm-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M3 3v18h18V3H3zm13 6h-6v2h6v2h-6v2h6v2H8V7h8v2z"></path></svg>':""}<span class="artistMeta">${escapeHtml(t.artist)}</span></div></div></div></div><div class="f ai-c jc-c plyr-item-list"><button class="rmM" data-remove-song-id="${t.songId}" aria-label="Remove Song from Queue: ${t.songId}" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 768 768"><g><path d="M655.5,112.5C582.9,39.9,486.6,0,384,0S185.1,39.9,112.5,112.5S0,281.4,0,384s39.9,198.9,112.5,271.5S281.4,768,384,768 s198.9-39.9,271.5-112.5S768,486.6,768,384S728.1,185.1,655.5,112.5z M624.6,624.6C560.3,689,474.8,724.4,384,724.4 S207.7,689,143.4,624.6C10.7,492,10.7,276,143.4,143.4C207.7,79,293.2,43.6,384,43.6S560.3,79,624.6,143.4 C757.3,276,757.3,492,624.6,624.6z"></path><path d="M553.2,214.8c-8.6-8.6-22.3-8.6-30.9,0L384,353.1L245.7,214.8c-8.6-8.6-22.3-8.6-30.9,0c-8.6,8.6-8.6,22.3,0,30.9 L353.1,384L214.8,522.3c-8.6,8.6-8.6,22.3,0,30.9c4.2,4.2,9.9,6.5,15.4,6.5s11.2-2.1,15.4-6.5l138.3-138.3l138.3,138.3 c4.2,4.2,9.9,6.5,15.4,6.5c5.7,0,11.2-2.1,15.4-6.5c8.6-8.6,8.6-22.3,0-30.9L414.9,384l138.3-138.3 C561.8,237.1,561.8,223.4,553.2,214.8z"></path></g></svg></button></div><div class="f ai-c jc-c plyr-item-list"><button class="btn user-like-queue" data-fav-id="${escapeHtml(t.songId)}" aria-label="Like from Queue: ${t.songId}" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button></div><div class="plyr-item-list"><span class="plyr-qsd">${escapeHtml(t.duration)}</span><button class="more-menu" data-morelist-id="${escapeHtml(t.songId)}" aria-label="More from Queue: ${escapeHtml(t.songName)}" type="button" data-morelist-type="Song Queue" data-morelist-image="${escapeHtml(t.imageUrl)}" data-morelist-url="${escapeHtml(t.postUrl)}" data-morelist-artist="${escapeHtml(t.artist)}" data-morelist-title="${escapeHtml(t.songName)}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></article>`,e.appendChild(r)})),updateQueueData()}function updateQueueData(){try{const t=document.getElementById("queue");if(!t)return;const e=t.getAttribute("data-is-played-from")||null,a=t.getAttribute("data-type-queue")||"",r=t.getAttribute("data-lang-queue")||"",o=t.getAttribute("data-movie-queue-name")||"",i=(t.getAttribute("data-song-source"),!!o);let s=!0,n=a;"movie"===a.trim().toLowerCase()&&(s=!1,albumName=!1);const l=Array.from(t.querySelectorAll("li.plyr-item"));l.sort(((t,e)=>t.classList.contains("is-current")?-1:e.classList.contains("is-current")?1:0));const u=l.map((t=>{const e=t.getAttribute("data-queue-id")||"",a=t.querySelector(".plyr-qsn"),r=a?a.textContent.trim():"",o=t.querySelector(".plyr-qan"),i=o?o.textContent.trim():"",s=t.querySelector(".plyr-qsd"),n=s?s.textContent.trim():"",l=t.querySelector(".plyr-qimg img"),u=l?l.getAttribute("src"):"",c=t.getAttribute("data-music-id")||"",d=t.getAttribute("data-genre")||"";return{id:e,title:r,artist:i,playID:c,duration:n,image:u,source:t.getAttribute("data-song-source")||"",genre:d}})),c=l.length,d=!0;window.__QUEUE_DATA__={queueInfo:{isPlayedFrom:e,isAlbum:s,isMovie:i,movieName:o||null,songType:n,lang:r,songCount:c,fetchedData:d.toString()},songs:u},injectQueueScript()}catch(t){window.__QUEUE_DATA__={queueInfo:{isPlayedFrom:null,isAlbum:!1,isMovie:!1,movieName:null,songType:!1,lang:"",songCount:0,fetchedData:"false"},songs:[]},"function"==typeof updateShuffleButtonState&&updateShuffleButtonState(),"function"==typeof updateNextButtonState&&updateNextButtonState(),"function"==typeof updatePreviousButtonState&&updatePreviousButtonState(),console.error("Error building __QUEUE_DATA__:",t)}}function injectQueueScript(){"function"==typeof updateShuffleButtonState&&updateShuffleButtonState(),"function"==typeof updateNextButtonState&&updateNextButtonState(),"function"==typeof updatePreviousButtonState&&updatePreviousButtonState()}function escapeHtml(t){return"string"!=typeof t?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}
!function(){const e=document.getElementById("queue");document.addEventListener("click",(async function(t){const a=t.target.closest(".addToQueue");if(!a)return;let s=a.getAttribute("data-queue-to-add-id")||"";if(s)if(e.querySelector(`li[data-queue-id="${s}"]`))toastNotif.already("Already in the queue!");else if(window.__QUEUE_DATA__.songs.some((e=>e.id===s)))toastNotif.already("Already in the queue!");else{toastNotif.loading("Adding song to queue...");try{const t=await fetch(`/feeds/posts/default/${s}?alt=json`);if(!t.ok)throw new Error("Fetch failed");const a=(await t.json()).entry;s=a.gsx$id?.$t||a.id.$t.split(".post-")[1]||s;let i="";if(Array.isArray(a.link)){const e=a.link.find((e=>"alternate"===e.rel&&e.href));e&&(i=e.href)}i||(i="#");let r=!1;Array.isArray(a.category)&&(r=a.category.some((e=>"explicit"===e?.term?.toLowerCase())));const o=(new DOMParser).parseFromString(a.content.$t,"text/html").querySelector("#post-song-data");if(!o)throw new Error("No song-data element");const l={queueID:s,musicID:o.getAttribute("data-music"),genreType:o.getAttribute("data-genre"),imageUrl:o.getAttribute("data-image"),songName:o.getAttribute("data-title-name"),artist:o.getAttribute("data-artist"),duration:o.getAttribute("data-duration"),isExplicit:r,source:i},n=document.createElement("li");n.className="plyr-item",n.setAttribute("data-queue-id",l.queueID),n.setAttribute("data-music-id",l.musicID),n.setAttribute("data-genre",l.genreType),n.innerHTML=`<article class="f ai-c plyr-list-item-inner"><div class="f ai-c jc-c plyr-item-list dragQ"><svg viewBox="0 0 24 24"><path d="M16 2C17.1046 2 18 2.89543 18 4C18 5.10457 17.1046 6 16 6C14.8954 6 14 5.10457 14 4C14 2.89543 14.8954 2 16 2Z"></path><path d="M16 10C17.1046 10 18 10.8954 18 12C18 13.1046 17.1046 14 16 14C14.8954 14 14 13.1046 14 12C14 10.8954 14.8954 10 16 10Z"></path><path d="M8 18C9.10457 18 10 18.8954 10 20C10 21.1046 9.10457 22 8 22C6.89543 22 6 21.1046 6 20C6 18.8954 6.89543 18 8 18Z"></path><path d="M16 18C17.1046 18 18 18.8954 18 20C18 21.1046 17.1046 22 16 22C14.8954 22 14 21.1046 14 20C14 18.8954 14.8954 18 16 18Z"></path><path d="M8 2C9.10457 2 10 2.89543 10 4C10 5.10457 9.10457 6 8 6C6.89543 6 6 5.10457 6 4C6 2.89543 6.89543 2 8 2Z"></path><path d="M8 10C9.10457 10 10 10.8954 10 12C10 13.1046 9.10457 14 8 14C6.89543 14 6 13.1046 6 12C6 10.8954 6.89543 10 8 10Z"></path></svg></div><div class="plyr-item-list"><div class="plyr-queue-ca"><div class="plyr-qimg"><img alt="${l.songName}" width="40" src="${l.imageUrl}" loading="lazy" height="40" /><button aria-label="Play Song: ${l.queueID}" class="btn queue-play" type="button" data-queue-play-id="${l.queueID}"><span class="plyr-icon-play"><svg role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="plyr-qinfo"><span class="plyr-qsn">${l.songName}</span><div class="f ai-c gap-5 plyr-qan">${l.isExplicit?'<svg class="px-16 pxm-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M3 3v18h18V3H3zm13 6h-6v2h6v2h-6v2h6v2H8V7h8v2z"></path></svg>':""}<span class="artistMeta">${escapeHtml(l.artist)}</span></div></div></div></div><div class="f ai-c jc-c plyr-item-list"><button class="rmM" data-remove-song-id="${l.queueID}" aria-label="Remove Song from Queue: ${l.queueID}" type="button"><svg role="presentation" viewBox="0 0 768 768"><g><path d="M655.5,112.5C582.9,39.9,486.6,0,384,0S185.1,39.9,112.5,112.5S0,281.4,0,384s39.9,198.9,112.5,271.5S281.4,768,384,768 s198.9-39.9,271.5-112.5S768,486.6,768,384S728.1,185.1,655.5,112.5z M624.6,624.6C560.3,689,474.8,724.4,384,724.4 S207.7,689,143.4,624.6C10.7,492,10.7,276,143.4,143.4C207.7,79,293.2,43.6,384,43.6S560.3,79,624.6,143.4 C757.3,276,757.3,492,624.6,624.6z"></path><path d="M553.2,214.8c-8.6-8.6-22.3-8.6-30.9,0L384,353.1L245.7,214.8c-8.6-8.6-22.3-8.6-30.9,0c-8.6,8.6-8.6,22.3,0,30.9 L353.1,384L214.8,522.3c-8.6,8.6-8.6,22.3,0,30.9c4.2,4.2,9.9,6.5,15.4,6.5s11.2-2.1,15.4-6.5l138.3-138.3l138.3,138.3 c4.2,4.2,9.9,6.5,15.4,6.5c5.7,0,11.2-2.1,15.4-6.5c8.6-8.6,8.6-22.3,0-30.9L414.9,384l138.3-138.3 C561.8,237.1,561.8,223.4,553.2,214.8z"></path></g></svg></button></div><div class="f ai-c jc-c plyr-item-list"><button class="btn user-like-queue" data-fav-id="${l.queueID}" aria-label="Like from Queue: ${l.queueID}" type="button"><svg class="hOff fn" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button></div><div class="plyr-item-list"><span class="plyr-qsd">${l.duration}</span><button class="more-menu" data-morelist-id="${l.queueID}" aria-label="More from Add to Queue: ${l.songName}" type="button" data-morelist-type="Song Queue" data-morelist-image="${l.imageUrl}" data-morelist-url="${l.source}" data-morelist-artist="${l.artist}" data-morelist-title="${l.songName}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></article>`.trim();const u=e.querySelector("li.is-current");u&&u.nextSibling?e.insertBefore(n,u.nextSibling):u?e.appendChild(n):e.insertBefore(n,e.firstChild),window.__QUEUE_DATA__.songs.push({id:l.queueID,title:l.songName,artist:l.artist,playID:l.musicID,duration:l.duration,image:l.imageUrl,source:l.source,genre:l.genreType}),window.__QUEUE_DATA__.queueInfo.songCount=window.__QUEUE_DATA__.songs.length,window.__QUEUE_DATA__.queueInfo.fetchedData="true",updateNextButtonState(),updateShuffleButtonState(),updatePreviousButtonState(),toastNotif.success("Song added!")}catch(e){console.error(e),toastNotif.error("Error, try again!")}}else toastNotif.already("Invalid song ID!")}))}();
document.addEventListener("click",(function(t){const e=t.target.closest("[data-remove-song-id]");if(!e)return;const o=e.getAttribute("data-remove-song-id");if(!o)return;const n=document.querySelector(`li[data-queue-id="${o}"]`);n&&n.classList.contains("is-current")?"function"==typeof toastNotif&&toastNotif.already("Current song not allowed"):(n&&n.parentNode.removeChild(n),window.__QUEUE_DATA__&&Array.isArray(window.__QUEUE_DATA__.songs)&&(window.__QUEUE_DATA__.songs=window.__QUEUE_DATA__.songs.filter((t=>t.id!==o)),window.__QUEUE_DATA__.queueInfo&&"number"==typeof window.__QUEUE_DATA__.queueInfo.songCount&&(window.__QUEUE_DATA__.queueInfo.songCount=window.__QUEUE_DATA__.songs.length)),"function"==typeof updateNextButtonState&&updateNextButtonState(),"function"==typeof updatePreviousButtonState&&updatePreviousButtonState(),"function"==typeof updateShuffleButtonState&&updateShuffleButtonState(),"function"==typeof toastNotif&&toastNotif.delete("Removed from Queue"))}));
!function(){let e=!1,t=null,n=null,o=null,i=0,s=0;const c=document.querySelector("#queue");function l(o){const l=o.touches?o.touches[0]:o,r=l.target.closest(".dragQ");if(!r)return;const u=r.closest(".plyr-item");u&&c.contains(u)&&!u.classList.contains("is-current")&&(n=setTimeout((()=>{!function(n,o){e=!0,t=o;const l=o.getBoundingClientRect(),r=c.getBoundingClientRect();i=n.clientY-l.top;const u=l.top-r.top+c.scrollTop;t.style.top=u+"px",t.classList.add("dragging","insert-animation"),c.classList.add("drag-queue"),document.body.style.userSelect="none",s=c.scrollTop}(l,u)}),100))}function r(n){if(!e||!t)return;n.preventDefault();const s=n.touches?n.touches[0]:n,l=c.getBoundingClientRect(),r=s.clientY;t.classList.remove("insert-animation");let u=r-l.top+c.scrollTop-i;u=Math.max(-50,Math.min(u,c.scrollHeight-30)),t.style.top=u+"px",function(e,t){const n=40,i=10;let s=0;e<t.top+n?s=-1:e>t.bottom-n&&(s=1);if(cancelAnimationFrame(o),0!==s){const e=()=>{c.scrollTop+=s*i,o=requestAnimationFrame(e)};o=requestAnimationFrame(e)}}(r,l);const a=[...document.querySelectorAll(".plyr-item:not(.dragging)")],d=document.querySelector(".plyr-item.is-current"),m=a.indexOf(d);let p=a.find((e=>{const t=e.getBoundingClientRect();return r<=t.top+t.height/2}));d&&p&&a.indexOf(p)<m&&(p=d.nextElementSibling),a.forEach((e=>e.style.marginTop="10px")),p&&(p.style.marginTop=t.offsetHeight+20+"px"),p&&p!==d?c.insertBefore(t,p):p||c.appendChild(t)}function u(){clearTimeout(n),cancelAnimationFrame(o),t&&(t.classList.remove("dragging","insert-animation"),t.style.top="auto",t=null,e=!1,document.body.style.userSelect="auto"),c.classList.remove("drag-queue"),document.querySelectorAll(".plyr-item").forEach((e=>{e.style.marginTop="0px"}))}c&&(document.addEventListener("mousedown",l),document.addEventListener("mouseup",u),document.addEventListener("mousemove",r),document.addEventListener("touchstart",l,{passive:!1}),document.addEventListener("touchend",u),document.addEventListener("touchmove",r,{passive:!1}))}();
