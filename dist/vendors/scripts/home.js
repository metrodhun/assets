!function(){function t(t){return"string"!=typeof t?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}async function e(){const e=document.querySelector(".recentPlayed");if(!e)return;const a=localStorage.getItem("homeBGR");a&&e.style.setProperty("--bg-dk-top-base",a);const s=localStorage.getItem("playHistory");if(!s)return void e.classList.add("hidden");let n;try{n=JSON.parse(s)}catch{return void e.classList.add("hidden")}if(!Array.isArray(n)||0===n.length)return void e.classList.add("hidden");const i=[],o=new Set;for(let t=n.length-1;t>=0&&i.length<12;t--){const e=n[t];o.has(e.id)||(o.add(e.id),i.push(e))}if(0===i.length)return void e.classList.add("hidden");const r=document.querySelector("#tab-recent .bs-feed-container");if(!r)return;const d=i.map((async e=>{const a=e.id;try{const s=await fetch(`/feeds/posts/default/${a}?alt=json`);if(!s.ok)return"";const n=await s.json(),i=(new DOMParser).parseFromString(n.entry.content.$t,"text/html").querySelector("#post-song-data");if(!i)return"";const o=a,r=i.getAttribute("data-image")||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-song-500x500.jpg",d=i.getAttribute("data-title-name"),l=i.getAttribute("data-artist"),c=e.source,p=l.split(",").map((t=>t.trim())).filter(Boolean).map((e=>{const a=t(e);return`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="/search?q=${encodeURIComponent(a)}">${a}</a>`})).join(", ");return`<li class="splide__slide"><div class="ipst" data-mbop="true"><div class="ipstI"><img alt="${t(d)}" loading="lazy" src="${t(r)}" width="100%"><div class="ipstBk"><button class="btn" data-play-id="${t(o)}" data-play-from="Recent" title="Play" type="button"><span class="plyr-icon-play icon-pressed"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause icon-not-pressed"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span></button><button class="btn is-small is-primary fav-song" data-fav-id="${t(o)}" title="Add to favorites" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button><button type="button" class="btn more-menu" title="View options" data-morelist-id="${t(o)}" data-morelist-type="Song" data-morelist-image="${t(r)}" data-morelist-url="${t(c)}" data-morelist-artist="${t(l)}" data-morelist-title="${t(d)}"><svg role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div><div class="ipstBD"><h4 class="elp1 ipstT"><a href="${t(c)}" class="domLoadContent" data-dom-id="${o}" data-dom-type="Post">${t(d)}</a></h4><div class="snippet">${p}</div></div></div></li>`}catch{return""}})),l="recent-splide",c=`<div id="${l}" class="splide"><div class="splide__track"><ul class="splide__list">${(await Promise.all(d)).filter((t=>""!==t.trim())).join("")}</ul></div></div>`;r.innerHTML="",r.classList.remove("items"),r.insertAdjacentHTML("beforeend",c);try{window.splideInstance&&(window.splideInstance.destroy(),window.splideInstance=null),window.splideInstance=new Splide(`#${l}`,{type:"slide",perPage:6,gap:"1rem",pagination:!1,arrows:!1,breakpoints:{150:{perPage:1},300:{perPage:2},450:{perPage:3},600:{perPage:4},750:{perPage:5},1050:{perPage:6}}}).mount();const t=e.querySelector(".prev-btn"),a=e.querySelector(".next-btn");t.addEventListener("click",(()=>window.splideInstance.go("<"))),a.addEventListener("click",(()=>window.splideInstance.go(">")))}catch(t){console.error("Failed to load recently played songs:",t)}}window.initRecentSection=e,e()}();
!function(t,e,a){const s=16;function o(){const t=e.querySelector(".forYou");if(!t)return;let o=JSON.parse(localStorage.getItem("userSelectedLanguages")||"null"),r=!1;Array.isArray(o)&&0!==o.length||(r=!0,o=[null]),async function(t,e){const o=await Promise.all(t.map((t=>async function(t){const e="/feeds/posts/default/-/Song",s=t?`${e}/${encodeURIComponent(t)}?alt=json&max-results=99`:`${e}?alt=json&max-results=99`;try{const e=await a(s);return((await e.json()).feed.entry||[]).map((e=>function(t,e){const a=(new DOMParser).parseFromString(t.content.$t,"text/html").querySelector("#post-song-data");let s="#";if(t.link?.find){const e=t.link.find((t=>"alternate"===t.rel&&t.href));e&&(s=e.href)}let o=null;if(t.id?.$t){o=t.id.$t.split("post-")[1]||null}return{lang:e,imageUrl:a.getAttribute("data-image")||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-song-500x500.jpg",songName:a.getAttribute("data-title-name"),artist:a.getAttribute("data-artist"),duration:a.getAttribute("data-duration"),postUrl:s,playId:o}}(e,t)))}catch(e){return console.error("Fetch error",t,e),[]}}(t)))),l={};if(t.forEach(((t,e)=>l[t]=o[e].filter(Boolean))),e)return n(l.null).slice(0,12);const r=[],i=[];let d=0;t.forEach((t=>{const e=l[t];e.length<4?(r.push({lang:t,items:n(e)}),d+=e.length):i.push({lang:t,items:n(e)})}));let c=s-d;const u=Math.floor(c/i.length);let f=c-u*i.length;const p=[];return r.forEach((t=>p.push(...t.items))),i.forEach((t=>{const e=u+(f-- >0?1:0);p.push(...t.items.slice(0,e))})),n(p).slice(0,s)}(o,r).then((a=>function(t,a){const s=t.querySelector(".skelFY");s&&s.remove();const o=t.querySelector(".fYCon");o&&o.remove();if(!a||0===a.length)return void t.classList.add("hidden");t.classList.remove("hidden");const n=e.createElement("div");n.className="fYCon",a.forEach((t=>{const a=t.artist||"";let s="";if(a.includes(","))s=a.split(",").map((t=>t.trim())).filter(Boolean).map((t=>`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="/search?q=${encodeURIComponent(t)}">${l(t)}</a>`)).join(", ");else if(a.trim()){const t=a.trim();s=`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="/search?q=${encodeURIComponent(t)}">${l(t)}</a>`}const o=e.createElement("div");o.className="fYS",o.innerHTML=`<article class="f ai-c gap-16 songArc"><div class="pos-r fyImg"><img loading="lazy" width="44" height="44" src="${t.imageUrl}" alt="${l(t.songName)}" /><button class="btn bgPos" data-play-id="${t.playId}" data-play-from="For You" title="Play" type="button"><span class="plyr-icon-play"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="f ai-c fw fyHeader"><div class="fyHeaderIn"><h3 class="elp1"><a href="${t.postUrl}" class="domLoadContent" data-dom-id="${t.playId}" data-dom-type="Post">${l(t.songName)}</a></h3><div class="elp1 fyMeta">${s}</div></div><div class="f ai-c fyHeaderFt"><span class="fyDur">${l(t.duration)}</span><button class="user-like-fys" data-fav-id="${t.playId}" title="Add to favorites" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button><button class="more-menu" data-morelist-id="${t.playId}" type="button" data-morelist-type="Song" data-morelist-image="${t.imageUrl}" data-morelist-url="${t.postUrl}" data-morelist-artist="${l(t.artist)}" data-morelist-title="${l(t.songName)}" title="View options"><svg class="px-18" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div></article>`,n.appendChild(o)})),t.appendChild(n),t.setAttribute("data-for-you-songs","completed"),function(t,e){const a=t.querySelector(".prev-btn"),s=t.querySelector(".next-btn"),o=e.querySelector(".fYS"),n=o.offsetWidth+24;function l(){a.disabled=e.scrollLeft<=0,s.disabled=e.scrollLeft+e.clientWidth>=e.scrollWidth}a.addEventListener("click",(()=>{e.scrollBy({left:-n,behavior:"smooth"}),setTimeout(l,300)})),s.addEventListener("click",(()=>{e.scrollBy({left:n,behavior:"smooth"}),setTimeout(l,300)})),e.addEventListener("scroll",l),l()}(t,n)}(t,a))).catch((t=>{console.error("Error loading For You songs:",t)}))}function n(t){const e=t.slice();for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e}function l(t){return t.replace(/[&<>"']/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t])))}t.loadForYouSongs=o,o()}(window,document,fetch);
!function(){const t=12;function e(t){for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}function a(t){return"string"!=typeof t?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}async function s(t){const e="/feeds/posts/default/-/Artist",a=t?`${e}/${encodeURIComponent(t)}?alt=json&max-results=99`:`${e}?alt=json&max-results=99`;try{const t=await fetch(a);return((await t.json()).feed.entry||[]).map((t=>function(t,e){const a=t.id&&t.id.$t.split(".post-")[1]||"",s=(t.link.find((t=>"alternate"===t.rel))||{}).href||"",i=t.content?.$t||"",n=(new DOMParser).parseFromString(i,"text/html").querySelector("#artist-data");let r=n?.dataset.artistImage||t.media$thumbnail?.url||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-disc-500x500.jpg",o=n?.dataset.artistName||t.title?.$t||"";return o?(r=(l=r)?l.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w500-h500-c-rw/").replace(/=s72-[w,c].*/g,"=s500"):l,{name:o,image:r,url:s,postId:a}):null;var l}(t))).filter(Boolean)}catch(e){return console.error("Fetch error",t,e),[]}}async function i(){const i=document.querySelector(".artistRadio"),n=document.querySelector("#tab-artist-radio .bs-feed-container");if(!i||!n)return;let r=JSON.parse(localStorage.getItem("userSelectedLanguages")||"null"),o=!1;Array.isArray(r)&&0!==r.length||(o=!0,r=[null]);try{const l=await async function(a,i){const n=await Promise.all(a.map((t=>s(t)))),r={};if(a.forEach(((t,e)=>r[t]=n[e])),i)return e(r.null).slice(0,t);let o=0;const l=[],d=[];a.forEach((t=>{const a=r[t];a.length<4?(l.push(e(a)),o+=a.length):d.push(e(a))}));let c=t-o;const p=Math.floor(c/d.length);let u=c-p*d.length;const m=[];return l.forEach((t=>m.push(...t))),d.forEach((t=>{const e=p+(u-- >0?1:0);m.push(...t.slice(0,e))})),e(m).slice(0,t)}(r,o);if(!l.length)return void i.classList.add("hidden");const d=l.map((t=>{const e=a(t.name),s=a(t.image||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-disc-500x500.jpg"),i="/search?q="+encodeURIComponent(t.name);return`<li class="splide__slide"><div class="ipst artist" data-mbop="true"><div class="ipstI"><img alt="${e}" loading="lazy" src="${s}" width="100%" height="100%"/><div class="ipstBk"><button class="btn" type="button" data-play-id="${a(t.postId)}" data-play-from="Artist" title="Play Radio"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z"></path></svg></button><button type="button" title="View options" class="btn more-menu hidden" data-morelist-id="false" data-morelist-type="Artist Radio" data-morelist-image="${s}" data-morelist-url="${i}" data-morelist-artist="false" data-morelist-title="${e}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div><div class="ipstBD"><h4 class="elp1 ipstT"><a class="domLoadContent" data-dom-id="false" data-dom-auto="Artist" data-dom-type="Post" href="${i}">${e}</a></h4><div class="snippet">Artist Radio</div></div></div></li>`})).join(""),c="artist-splide";n.innerHTML=`<div id="${c}" class="splide"><div class="splide__track"><ul class="splide__list">${d}</ul></div></div>`,n.classList.remove("items"),window.artistSplideInstance&&window.artistSplideInstance.destroy(),window.artistSplideInstance=new Splide(`#${c}`,{type:"slide",perPage:6,gap:"1rem",pagination:!1,arrows:!1,breakpoints:{150:{perPage:1},300:{perPage:2},450:{perPage:3},600:{perPage:4},750:{perPage:5},1050:{perPage:6}}}).mount(),i.querySelector(".prev-btn").addEventListener("click",(()=>window.artistSplideInstance.go("<"))),i.querySelector(".next-btn").addEventListener("click",(()=>window.artistSplideInstance.go(">")))}catch(t){console.error("Failed to load artist stations:",t),i.classList.add("hidden")}}window.initArtistSection=i,i()}();
!function(){function e(e){return"string"!=typeof e?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}async function t(t,a){const s=a.toLowerCase().replace(/\s+/g,"-"),o=t.querySelector(`#tab-auto-${s} .bs-feed-container`);try{const i=await fetch(`/feeds/posts/default/-/Song/${encodeURIComponent(a)}?alt=json&max-results=99&orderby=published`);if(!i.ok)throw new Error(`HTTP ${i.status}`);const r=(await i.json()).feed.entry||[];if(!r.length)return void t.classList.add("hidden");!function(e){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}}(r);const n=r.slice(0,12).map((t=>{const a=t.content.$t,s=(new DOMParser).parseFromString(a,"text/html").querySelector("#post-song-data");if(!s)return"";const o=t.gsx$id?.$t||t.id.$t.split(".post-")[1]||"",i=s.getAttribute("data-image")||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-song-500x500.jpg",r=s.getAttribute("data-title-name"),n=s.getAttribute("data-artist"),l=s.getAttribute("data-url")||t.link.find((e=>"alternate"===e.rel)).href,d=n.split(",").map((e=>e.trim())).filter(Boolean).map((t=>{const a=e(t);return`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="/search?q=${encodeURIComponent(a)}">${a}</a>`})).join(", ");return`<li class="splide__slide"><div class="ipst" data-mbop="true"><div class="ipstI"><img alt="${e(r)}" loading="lazy" src="${e(i)}" width="100%" /><div class="ipstBk"><button class="btn" title="Play" data-play-id="${e(o)}" type="button" data-play-from="New Release"><span class="plyr-icon-play icon-pressed"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause icon-not-pressed"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span></button><button type="button" title="Add to favorites" class="btn is-small is-primary fav-song" data-fav-id="${e(o)}"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button><button type="button" title="View options" class="btn more-menu" data-morelist-id="${e(o)}" data-morelist-type="Song" data-morelist-image="${e(i)}" data-morelist-url="${e(l)}" data-morelist-artist="${e(n)}" data-morelist-title="${e(r)}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div><div class="ipstBD"><h4 class="elp1 ipstT"><a href="${e(l)}" class="domLoadContent" data-dom-id="${o}" data-dom-type="Post">${e(r)}</a></h4><div class="snippet">${d}</div></div></div></li>\n        `})).filter((e=>e.trim())).join(""),l=`auto-splide-${s}`,d=`<div id="${l}" class="splide"><div class="splide__track"><ul class="splide__list">${n}</ul></div></div>`;o.innerHTML="",o.classList.remove("items"),o.insertAdjacentHTML("beforeend",d),window[`autoSplide_${s}`]&&window[`autoSplide_${s}`].destroy(),window[`autoSplide_${s}`]=new Splide(`#${l}`,{type:"slide",perPage:6,gap:"1rem",pagination:!1,arrows:!1,mediaQuery:"min",breakpoints:{150:{perPage:1},300:{perPage:2},450:{perPage:3},600:{perPage:4},750:{perPage:5},1050:{perPage:6}}}).mount();const c=t.querySelector(`.recDefault-${s}`);c.querySelector(".prev-btn").addEventListener("click",(()=>window[`autoSplide_${s}`].go("<"))),c.querySelector(".next-btn").addEventListener("click",(()=>window[`autoSplide_${s}`].go(">")))}catch(e){console.error(`Error populating ${a} section`,e),t.classList.add("hidden")}}function a(){const a=document.querySelector(".autoGen");if(a){let s;a.innerHTML="";try{s=JSON.parse(localStorage.getItem("userSelectedLanguages"))}catch{s=null}Array.isArray(s)&&0!==s.length||(s=["Hindi"]),s.forEach((s=>{const o=function(t){const a=t.toLowerCase().replace(/\s+/g,"-"),s=document.createElement("div");return s.className="recentDefault",s.dataset.createdType=`Auto ${t}`,s.innerHTML=`<div class="bSC"><div class="f ai-c gap-14 jc-sb mgb-22 secHC"><h2>${e(t)} Mix: For You</h2><div class="f ai-c gap-7 act-btn recDefault-${a}"><button aria-label="Recent default previous button" class="prev-btn" type="button"><svg class="i i-angle-left" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m15 18-6-6 6-6"/></svg></button><button aria-label="Recent default next button" class="next-btn" type="button"><svg class="i i-angle-right" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m9 18 6-6-6-6"/></svg></button></div></div><div class="secItems bs-feed" data-fetch-type="Auto" id="tab-auto-${a}"><div class="bs-feed-container items">${'<div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div></div>'.repeat(6)}</div></div></div>`,s}(s);a.appendChild(o),t(o,s)}))}else{Array.from(document.querySelectorAll(".pdCon.bSec.recentDefault")).forEach((e=>{const a=e.querySelector("h2"),s=(a?a.textContent.trim():"").replace(/^New Releases\s*-\s*/,"")||"Hindi",o=s.toLowerCase().replace(/\s+/g,"-"),i=e.querySelector(".f.ai-c.gap-7.act-btn.recDefault");i&&(i.classList.remove("recDefault"),i.classList.add(`recDefault-${o}`));const r=e.querySelector(".secItems.bs-feed");r&&(r.id=`tab-auto-${o}`,r.dataset.fetchType="Auto"),e.dataset.createdType=`Auto ${s}`,t(e,s)}))}}window.initAutoGenSections=a,a()}();
!function(){const e=["Catch up","Moments","Feel","For you","Trending now","In case you missed it","Hot topics","Top picks","Must see","Happening now","Your daily dose","Editor’s choice","Recommended","Fresh today","Just in","On your radar","New & noteworthy","Handpicked","Don’t miss","From around the web"];function t(e){return"string"!=typeof e?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}}function o(){return e[Math.floor(Math.random()*e.length)]}function n(e,a,o){const n=o.toLowerCase().replace(/\s+/g,"-"),r=document.createElement("div");return r.className="songAutoDefault",r.dataset.createdType=a,r.innerHTML=`<div class="bSC"><div class="f ai-c gap-14 jc-sb mgb-22 secHC"><h2>${t(e)}</h2><div class="f ai-c gap-7 act-btn recDefault"><button aria-label="Auto Gen Previous" class="prev-btn" type="button"><svg class="i i-angle-left" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m15 18-6-6 6-6"/></svg></button><button aria-label="Auto Gen Next" class="next-btn" type="button"><svg class="i i-angle-right" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m9 18 6-6-6-6"/></svg></button></div></div><div class="secItems bs-feed" data-fetch-type="${a}" id="auto-${n}"><div class="bs-feed-container items">${'<div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div></div>'.repeat(6)}</div></div></div>`,r}function r(e,a){return e.map((e=>{const o=e.content.$t,n=(new DOMParser).parseFromString(o,"text/html").querySelector("#post-song-data");if(!n)return"";const r=e.gsx$id?.$t||e.id.$t.split(".post-")[1]||"",s=n.getAttribute("data-image")||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-song-500x500.jpg",i=n.getAttribute("data-title-name"),l=n.getAttribute("data-artist"),d=n.getAttribute("data-url")||e.link.find((e=>"alternate"===e.rel)).href,c=l.split(",").map((e=>e.trim())).filter(Boolean).map((e=>{const a=t(e);return`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" href="/search?q=${encodeURIComponent(a)}">${a}</a>`})).join(", ");return`<li class="splide__slide"><div class="ipst" data-mbop="true"><div class="ipstI"><img alt="${t(i)}" loading="lazy" src="${t(s)}" width="100%" /><div class="ipstBk"><button class="btn" title="Play" data-play-id="${t(r)}" data-play-from="${a}" type="button"><span class="plyr-icon-play icon-pressed"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"/></svg></span><span class="plyr-icon-pause icon-not-pressed"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"/></svg></span></button><button class="btn is-small is-primary fav-song" data-fav-id="${t(r)}" title="Add to favorites" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg></button><button class="btn more-menu" data-morelist-id="${t(r)}" data-morelist-type="Song" data-morelist-image="${t(s)}" data-morelist-url="${t(d)}" data-morelist-artist="${t(l)}" data-morelist-title="${t(i)}" title="View options" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"/></svg></button></div></div><div class="ipstBD"><h4 class="elp1 ipstT"><a href="${t(d)}" data-dom-id="${t(r)}" class="domLoadContent" data-dom-type="Post">${t(i)}</a></h4><div class="snippet">${c}</div></div></div></li>`})).filter((e=>e.trim())).join("")}function s(e,t){const a=`splide-${t}`;window[`splide_${t}`]&&window[`splide_${t}`].destroy(),window[`splide_${t}`]=new Splide(`#${a}`,{type:"slide",perPage:6,gap:"1rem",pagination:!1,mediaQuery:"min",arrows:!1,breakpoints:{150:{perPage:1},300:{perPage:2},450:{perPage:3},600:{perPage:4},750:{perPage:5},1050:{perPage:6}}}).mount()}async function i(e,t,n,l,d=12){const c=e.querySelector(".bs-feed").id,p=e.querySelector(`#${c} .bs-feed-container`),g="Romantic";try{const u=t.map((e=>fetch(`/feeds/posts/default/-/Song/${encodeURIComponent(e)}/${encodeURIComponent(n)}?alt=json&max-results=99`).then((e=>e.ok?e.json():{feed:{entry:[]}})))),h=await Promise.all(u),m={};t.forEach(((e,t)=>{const o=h[t].feed.entry||[];a(o),m[e]=o}));const f=t.length,y=Math.floor(d/f);let v={},$=0;t.forEach((e=>{const t=Math.min(y,m[e].length);v[e]=t,$+=t}));let b=d-$;const S=t.map((e=>({lang:e,extra:m[e].length-v[e]}))).filter((e=>e.extra>0)).sort(((e,t)=>t.extra-e.extra));for(const{lang:e,extra:t}of S){if(b<=0)break;const a=Math.min(t,b);v[e]+=a,b-=a}let w=[];t.forEach((e=>{w=w.concat(m[e].slice(0,v[e]))}));const A="genre"===l&&"Pop"===n||"mood"===l&&n===g;if(!w.length){if(!A){const a="genre"===l?"Pop":g,n=e.querySelector("h2");if(n){const e=o(),t="genre"===l?`${e}: ${a}`:`${e} - ${a}`;n.textContent=t}return void await i(e,t,a,l,d)}return void e.classList.add("hidden")}a(w);const M=r(w,`${t.join(",")}/${l}`);p.innerHTML=`<div id="splide-${c}" class="splide"><div class="splide__track"><ul class="splide__list">${M}</ul></div></div>`,p.classList.remove("items"),s(0,c),e.querySelector(".prev-btn").onclick=()=>window[`splide_${c}`].go("<"),e.querySelector(".next-btn").onclick=()=>window[`splide_${c}`].go(">")}catch(t){console.warn(`Error populating aggregate ${l}`,t),e.classList.add("hidden")}}async function l(e,t){const o=e.querySelector(".bs-feed").id,n=e.querySelector(`#${o} .bs-feed-container`);let i=[];try{const e=localStorage.getItem("homeLabels");if(e){const t=JSON.parse(e);t.language&&(i=[t.language])}}catch(e){console.warn("Invalid homeLabels data",e)}if(!i.length)try{const e=JSON.parse(localStorage.getItem("userSelectedLanguages"));Array.isArray(e)&&e.length&&(i=e)}catch(e){console.warn("Invalid userSelectedLanguages data",e)}i.length||(i=["Hindi"]);try{const l=i.map((e=>{const a=`/feeds/posts/default?max-results=99&q=${encodeURIComponent(`${t} ${e}`)}&alt=json`;return fetch(a).then((e=>e.ok?e.json():{feed:{entry:[]}}))}));let d=(await Promise.all(l)).flatMap((e=>e.feed.entry||[])).filter(((e,t,a)=>{const o=e.id.$t;return a.findIndex((e=>e.id.$t===o))===t}));if(d=d.filter((e=>{if(!e.category)return!1;const t=Array.isArray(e.category)?e.category:[e.category];return t.some((e=>"Song"===e.term.trim()))&&!t.some((e=>"Main Album"===e.term.trim()))})),!d.length)return void e.classList.add("hidden");a(d);const c=r(d.slice(0,12),`Artist/${i.join(",")}`);n.innerHTML=`<div id="splide-${o}" class="splide"><div class="splide__track"><ul class="splide__list">${c}</ul></div></div>`,n.classList.remove("items"),s(0,o),e.querySelector(".prev-btn").onclick=()=>window[`splide_${o}`].go("<"),e.querySelector(".next-btn").onclick=()=>window[`splide_${o}`].go(">")}catch(a){console.error(`Error populating artist "${t}"`,a),e.classList.add("hidden")}}function d(){const e=document.querySelector(".autoGenExtra");let t=[];try{const e=JSON.parse(localStorage.getItem("homeLabels")||"{}");e.language&&(t=[e.language])}catch{}if(!t.length)try{const e=JSON.parse(localStorage.getItem("userSelectedLanguages")||"[]");Array.isArray(e)&&e.length&&(t=e)}catch{}t.length||(t=["Hindi"]);const a=["Pop","Hip-Hop","Rap","R&B","EDM","Electronic","Latin","Reggaeton","Rock","K-pop","Afrobeats","Afro-pop","Country","Indie","Alternative","Drill","Lo-fi Hip-Hop","Chillhop","Trap","Trap Metal","Emo Rap","Dancehall","House","Deep House","Metalcore","Deathcore"],r=["Happy","Sad","Energetic","Chill","Romantic","Angry","Uplifting","Melancholic","Retro","Upbeat","Devotional","Fresh Start","Emotional","Traditional","Hopeful","Dark","Dreamy","Confident","Relaxed","Heartbroken","Empowering","Nostalgic","Mysterious","Aggressive","Calm","Groovy","Sensual","Peaceful","Epic","Introspective","Playful"];let s={genre:"Pop",mood:"Romantic"};try{const e=JSON.parse(localStorage.getItem("homeLabels")||"{}");e.genre?s.genre=e.genre:s.genre=a[Math.floor(Math.random()*a.length)],e.mood?s.mood=e.mood:s.mood=r[Math.floor(Math.random()*r.length)]}catch{s.genre=a[Math.floor(Math.random()*a.length)],s.mood=r[Math.floor(Math.random()*r.length)]}if(e){e.innerHTML="";const a=n(`${o()}: ${s.genre}`,`Auto ${t.join(",")} ${s.genre}`,"aggregate-genre");e.appendChild(a),i(a,t,s.genre,"genre");const r=n(`${o()} - ${s.mood}`,`Auto ${t.join(",")} ${s.mood}`,"aggregate-mood");e.appendChild(r),i(r,t,s.mood,"mood");const d={Hindi:["Arijit Singh"],Telugu:["Devi Sri Prasad"],Punjabi:["Honey Singh"],Tamil:["Anirudh Ravichander"],English:["Sabrina Carpenter"],Bangla:["Shreya Ghoshal"],Odia:["Archana Padhi","Humane Sagar"],Khortha:["Satish Das"],Bhojpuri:["Pawan Singh","Khesari Lal Yadav"],Kannada:["Jaskaran Singh"],Malayalam:["Vineeth Sreenivasan","Sid Sriram"],Assamese:["Deeplina Deka"],Korean:["BTS","BLACKPINK"],Marathi:["Sanju Rathod"]};let c=(localStorage.getItem("homeArtist")||"").split(",").map((e=>e.trim())).filter(Boolean);c.length||(c=t.flatMap((e=>d[e]||[]))),c.length||(c=["Arijit Singh","Shreya Ghoshal","Mohit Chauhan"]),c=[...new Set(c)],c.forEach((t=>{const a=`artist-${t.replace(/\s+/g,"-").toLowerCase()}`,o=n(t,"Auto Artist",a);e.appendChild(o),l(o,t)}))}else document.querySelectorAll(".pdCon.bSec.songAutoDefault").forEach((e=>{const a=e.querySelector("h2"),o=a?a.textContent.trim():"",n=e.dataset.createdType||o,r=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")||"default",s=e.querySelector(".f.ai-c.gap-7.act-btn.recDefault");s&&(s.classList.remove("recDefault"),s.classList.add(`recDefault-${r}`));const d=e.querySelector(".secItems.bs-feed");d&&(d.id=`auto-${r}`,d.dataset.fetchType=n),e.dataset.createdType=n,n.toLowerCase().includes("genre")?i(e,t,o.replace(/^[^:–—]+[:–—]\s*/,""),"genre"):n.toLowerCase().includes("mood")?i(e,t,o.replace(/^[^:–—]+[:–—]\s*/,""),"mood"):l(e,o)}))}window.initAutoGenExtraSections=d,d()}();
!function(){function t(){const t="playlist-auto";function e(t){return"string"!=typeof t?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(t){for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}}const s=`<div class="bSC"><div class="f ai-c gap-14 jc-sb mgb-22 secHC"><h2>${e("Featured playlists")}</h2><div class="f ai-c gap-7 act-btn playListDefault"><button aria-label="Previous" class="prev-btn" type="button"><svg class="i i-angle-left" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m15 18-6-6 6-6"/></svg></button><button aria-label="Next" class="next-btn" type="button"><svg class="i i-angle-right" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m9 18 6-6-6-6"/></svg></button></div></div><div class="secItems bs-feed" data-fetch-type="Auto" id="auto-${t}"><div class="bs-feed-container items">${'<div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div></div>'.repeat(6)}</div></div></div>`,l=document.querySelector(".autoGenPlaylist");l&&(l.innerHTML=s,fetch("/feeds/pages/default/3893143772558374776?alt=json").then((t=>t.json())).then((s=>{const i=s.entry,o=(new DOMParser).parseFromString(i.content?.$t||"","text/html").querySelector("script#json\\:dataPlaylist");if(!o)return;const n=JSON.parse(o.textContent);let r=[];try{r=JSON.parse(localStorage.getItem("userSelectedLanguages")||"[]")}catch{r=[]}const d=Object.keys(n);r.length||(r=d);const c=r.length,p=Math.floor(12/c),u=12%c,g=[];r.forEach(((t,e)=>{const s=Array.isArray(n[t])?[...n[t]]:[];a(s);const l=p+(e<u?1:0);s.slice(0,l).forEach((e=>{const a=e.hasOwnProperty("year");g.push({title:e.title||"",img:e.img||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-music-500x500.jpg",label:e.label||"",year:a?e.year:null,hasYear:a,lang:t})}))}));const y=[],v=new Set;for(const t of g)v.has(t.title)||(v.add(t.title),y.push(t));a(y);let m="";y.forEach((({title:t,img:a,label:s,year:l,hasYear:i,lang:o})=>{const n=i?`data-playlist-year="${e(l.toString())}"`:"";m+=`<li class="splide__slide"><div class="ipst" data-mbop="true"><div class="ipstI"><img alt="${e(t)}" loading="lazy" src="${e(a)}" width="100%" /><div class="ipstBk"><button class="btn playlistAutoBtn" data-playlist-label="${e(s)}" ${n} data-playlist-lang="${e(o)}" data-playlist-auto-id="${e(t)}" data-play-from="Auto playlists" title="Play ${e(t)} Songs: ${e(o)}" type="button"><svg fill="currentColor" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z"/></svg></button><button class="btn more-menu" data-morelist-id="${e(s)}" data-morelist-type="Playlist Auto" ${n} data-morelist-image="${e(a)}" data-morelist-url="/p/playlist.html?playlistLabels=${e(s)}+${e(o)}${i?"+"+e(l.toString()):""}" data-morelist-playlist="${e(o)}" data-morelist-title="${e(t)}" title="View options" type="button"><svg viewBox="0 0 512 512" aria-hidden="true" focusable="false" role="presentation"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"/></svg></button></div></div><div class="ipstBD"><h4 class="elp1 ipstT"><a href="/p/playlist.html?playlistLabels=${e(s)}+${e(o)}${i?"+"+e(l.toString()):""}" class="domLoadContent" data-dom-id="3893143772558374776" data-dom-type="Page">${e(t)}</a></h4><div class="snippet">${e(s)} - ${e(o)}</div></div></div></li>`}));const b=document.getElementById(`auto-${t}`).querySelector(".bs-feed-container");b.innerHTML="",b.classList.remove("items"),b.insertAdjacentHTML("beforeend",`<div id="splide-${t}" class="splide"><div class="splide__track"><ul class="splide__list">${m}</ul></div></div>`),function(t,e){const a=`splide-${e}`;window[`splide_${e}`]&&window[`splide_${e}`].destroy();const s=new Splide(`#${a}`,{type:"slide",perPage:6,gap:"1rem",pagination:!1,mediaQuery:"min",arrows:!1,breakpoints:{150:{perPage:1},300:{perPage:2},450:{perPage:3},600:{perPage:4},750:{perPage:5},1050:{perPage:6}}});s.mount(),window[`splide_${e}`]=s}(0,t);const h=l.querySelector(".prev-btn"),f=l.querySelector(".next-btn");h&&f&&(h.addEventListener("click",(()=>window[`splide_${t}`].go("<"))),f.addEventListener("click",(()=>window[`splide_${t}`].go(">"))))})).catch(console.error))}window.initAutoGenPlaylistSections=t,t()}();
