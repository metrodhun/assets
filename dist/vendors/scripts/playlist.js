!function(){function t(){if(!location.pathname.includes("/p/playlist.html"))return;const t=document.getElementById("playlist-auto");if(!t)return;let e=1;const a=location.search.match(/(?:\?|&)playlistLabels=([^&]*)/),s=a?a[1]:"";if(!s)return;const i=s.split("+");if(i.length<1||i.length>3)return;const[o,n,l]=i,r=decodeURIComponent(o),d=n?decodeURIComponent(n):null,c=l?decodeURIComponent(l):null;function u(t){return(null==t?"":String(t)).replace(/[&<>"']/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t])))}function p(t){const e=t.split(":").map(Number).reverse();let a=0;return e[0]&&(a+=e[0]),e[1]&&(a+=60*e[1]),e[2]&&(a+=3600*e[2]),a}t.innerHTML='<div class="f ai-c jc-c sLoad loadQ"><div class="f ai-c jc-c loadingSpin"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 32 32" fill="none" stroke-width="3" class="progress-circle indeterminate w-40 h-40"><circle cx="16" cy="16" r="13" role="presentation" stroke-dasharray="81.68 81.68" stroke-dashoffset="0" transform="rotate(-90 16 16)" class="progress-circle-track"></circle><circle cx="16" cy="16" r="13" role="presentation" stroke-dasharray="81.68 81.68" stroke-dashoffset="61.26" transform="rotate(-90 16 16)" class="progress-circle-fill"></circle></svg></div></div>';const m=["Song",r];d&&m.push(d),c&&m.push(c);const g=`/feeds/posts/default/-/${m.map(encodeURIComponent).join("/")}?alt=json&max-results=99&orderby=published`;fetch(g).then((t=>t.json())).then((a=>{const s=a.feed&&a.feed.entry||[];if(!s.length)return void(t.innerHTML="<div class='noSongsQueue'><div class='f fdc gap-10 ai-c jc-c noItm'><div class='nItmSvg'><svg aria-hidden='true' focusable='false' role='presentation' viewBox='0 0 24 24'><path d='M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z'></path></svg></div><div class='f fdc nItmTxt'><span class='b qT1' data-text='Pretty quiet in here.'></span><span class='b qT2' data-text='No songs found!'></span></div></div></div>");let i;try{i=JSON.parse(document.getElementById("json:dataPlaylist").textContent)}catch{return void(t.textContent="<div class='noSongsQueue'><div class='f fdc gap-10 ai-c jc-c noItm'><div class='nItmSvg'><svg aria-hidden='true' focusable='false' role='presentation' viewBox='0 0 24 24'><path d='M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z'></path></svg></div><div class='f fdc nItmTxt'><span class='b qT1' data-text='Pretty quiet in here.'></span><span class='b qT2' data-text='Error loading playlist data!'></span></div></div></div>")}let o=null;if(d&&i[d])o=i[d].find((t=>t.label===r));else for(const t in i){const e=i[t].find((t=>t.label===r));if(e){o=e;break}}if(!o)return void(t.textContent="<div class='noSongsQueue'><div class='f fdc gap-10 ai-c jc-c noItm'><div class='nItmSvg'><svg aria-hidden='true' focusable='false' role='presentation' viewBox='0 0 24 24'><path d='M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z'></path></svg></div><div class='f fdc nItmTxt'><span class='b qT1' data-text='Pretty quiet in here.'></span><span class='b qT2' data-text='No such playlist created!'></span></div></div></div>");const n=[];let l=0;for(let t=0;t<s.length&&n.length<40;t++){const a=s[t],i=(new DOMParser).parseFromString(a.content.$t,"text/html").querySelector("#post-song-data");if(!i)continue;const o=e++,r=a.gsx$id?.$t||a.id.$t.split(".post-")[1]||"",d=i.getAttribute("data-image")||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-song-500x500.jpg",c=i.getAttribute("data-title-name"),m=i.getAttribute("data-artist"),g=i.getAttribute("data-duration")||"0:00",y=i.getAttribute("data-movie"),f=i.getAttribute("data-music"),v=i.getAttribute("data-genre"),h=y||c,b=i.getAttribute("data-mood"),w=i.getAttribute("data-cast"),x=i.getAttribute("data-language"),A=i.getAttribute("data-movie"),$=i.getAttribute("data-song-type"),S=i.getAttribute("data-year"),q=i.getAttribute("data-url")||(a.link.find((t=>"alternate"===t.rel))||{}).href;l+=p(g);const C=(m||"").split(",").map((t=>t.trim())).filter(Boolean).map((t=>`<a class="domLoadContent" data-dom-type="Post" data-dom-id="false" data-dom-auto="Artist" href="/search?q=${encodeURIComponent(t)}">${u(t)}</a>`)).join(", ");n.push({postID:r,imageLink:d,songTitle:c,duration:g,artistName:m,artistsHTML:C,albumName:h,idx:o,postUrl:q,musicId:f,genre:v,mood:b,cast:w,language:x,movie:A,songType:$,year:S})}const c=function(t){const e=Math.floor(t/3600),a=Math.floor(t%3600/60),s=t%60;return e>0?`${e}hr${a>0?" "+a+"min":""}`:a>0?`${a}min${s>0?" "+s+"sec":""}`:`${s}sec`}(l),m=n.length,g=["Nothing But Vibes","Only the Hits","Forever on Repeat","Certified Bangers","Timeless Tunes","Songs That Slap","Feel Good Frequencies","Heavy Rotation","All Killer No Filler","Volume Maxed","Back-to-Back Fire","Mood on Shuffle","Vibe Check Passed","Replay Worthy","Straight Heat","Soundtrack of Now","Addicted to the Beat","No Skips Allowed","Nothing But","Pure Gold Tracks","Undeniable Anthems"],y=`${g[Math.floor(Math.random()*g.length)]}: ${u(o.label)}`;let f=`<div class="playListF"><div class="f ai-c cAS"><div class="cL"><div class="imgL"><img class="imgC" loading="lazy" width="250" height="250" src="${u(o.img||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-music-500x500.jpg")}" alt="${u(o.title)}"><span class="angL"></span></div></div><div class="cR"><div class="sg-info sTY"><span>${u(o.label)}</span></div><h2 class="sg-h">${u(o.title)}</h2><div class="sg-info inF cCD"><div class="f ai-c gap-5 sg-label"><span></span>${m} tracks<span class="sprt">â€¢</span><span>${c}</span></div></div><div class="sg-info inBtns"><button class="mx-btn" data-top-auto-play-id="false" title="Play ${u(o.title)} Songs"><span class="mx-svg"><svg class="isPlaySvg" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="b mx-txt sPLY" data-text="Play"></span></button></div></div></div></div><div class="dCon"><h3>${y}</h3></div><div class="rAS" id="detail_list_play">`;n.forEach((t=>{f+=`<div class="rasTTC" data-song-auto-gen-id="${u(t.postID)}"><div class="rasContent" data-related-song="${u(t.idx)}" data-from-album="${u(t.albumName)}"><div class="rasNPP"><span class="numFD">${u(t.idx)}</span></div><div class="pos-r rasNPImg"><img alt="${u(t.songTitle)} from Auto Playlist Songs" width="40" src="${u(t.imageLink)}" loading="lazy" height="40"><button aria-label="Auto Playlist Play Song: ${u(t.songTitle)}" class="btn auto-play" type="button" data-auto-play-id="${u(t.postID)}"><span class="plyr-icon-play"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="rasTitle"><div class="elp1 rastSN"><a class="domLoadContent" data-dom-id="${u(t.postID)}" data-dom-type="Post" href="${u(t.postUrl)}">${u(t.songTitle)}</a></div><div class="elp1 rastSGN">${t.artistsHTML}</div><div class="elp1 rastAlbum">${u(t.albumName)}</div></div><div class="rasExtra"><div class="rasFB"><button class="btn is-small is-primary fav-rmas" data-fav-id="${u(t.postID)}" title="Remove from Favorites" type="button"><svg class="hOn fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button></div><div class="rasDUR"><span>${u(t.duration)}</span><button class="song-option more-menu" data-morelist-id="${u(t.postID)}" data-morelist-type="Song" data-morelist-image="${u(t.imageLink)}" data-morelist-url="${u(t.postUrl)}" data-morelist-artist="${u(t.artistName)}" data-morelist-title="${u(t.songTitle)}" title="View options" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div></div></div>`})),f+="</div>",window.autoPlaylistSongs=n,t.innerHTML=f})).catch((e=>{console.error("[initAutoPlaylist] error",e),t.textContent="Error!"}))}document.addEventListener("click",(function(t){const e=t.target.closest("[data-auto-play-id], [data-top-auto-play-id]");if(!e)return;const a=e.getAttribute("data-auto-play-id"),s=e.hasAttribute("data-top-auto-play-id"),i=window.autoPlaylistSongs||[];if(!i.length)return;let o=a;if(s&&(o=i[0]?.postID,!o))return;const n=e.classList.contains("onView"),l=document.documentElement.classList,r=l.contains("is-initializing")||l.contains("is-playing")||l.contains("is-paused")||l.contains("is-buffering");if(n&&window.ytPlayer)return r?void(l.contains("is-playing")?(window.ytPlayer.pauseVideo(),l.remove("is-playing"),l.add("is-paused"),e.classList.remove("onView")):l.contains("is-paused")&&(window.ytPlayer.playVideo(),l.remove("is-paused"),l.add("is-playing"),e.classList.add("onView"))):(window.ytPlayer.playVideo(),l.add("is-playing"),void e.classList.add("onView"));const d=document.getElementById("queue");if(!d)return;d.innerHTML="";const c=[...i.filter((t=>t.postID===o)),...i.filter((t=>t.postID!==o))];c.forEach((t=>{const e=document.createElement("li");e.className="plyr-item",e.setAttribute("data-queue-id",t.postID),e.setAttribute("data-music-id",t.musicId||""),e.setAttribute("data-genre",t.genre||""),e.setAttribute("data-song-source",t.postUrl||""),e.innerHTML=`<article class="f ai-c plyr-list-item-inner"><div class="f ai-c jc-c plyr-item-list dragQ"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M16 2C17.1046 2 18 2.89543 18 4C18 5.10457 17.1046 6 16 6C14.8954 6 14 5.10457 14 4C14 2.89543 14.8954 2 16 2Z"></path><path d="M16 10C17.1046 10 18 10.8954 18 12C18 13.1046 17.1046 14 16 14C14.8954 14 14 13.1046 14 12C14 10.8954 14.8954 10 16 10Z"></path><path d="M8 18C9.10457 18 10 18.8954 10 20C10 21.1046 9.10457 22 8 22C6.89543 22 6 21.1046 6 20C6 18.8954 6.89543 18 8 18Z"></path><path d="M16 18C17.1046 18 18 18.8954 18 20C18 21.1046 17.1046 22 16 22C14.8954 22 14 21.1046 14 20C14 18.8954 14.8954 18 16 18Z"></path><path d="M8 2C9.10457 2 10 2.89543 10 4C10 5.10457 9.10457 6 8 6C6.89543 6 6 5.10457 6 4C6 2.89543 6.89543 2 8 2Z"></path><path d="M8 10C9.10457 10 10 10.8954 10 12C10 13.1046 9.10457 14 8 14C6.89543 14 6 13.1046 6 12C6 10.8954 6.89543 10 8 10Z"></path></svg></div><div class="plyr-item-list"><div class="plyr-queue-ca"><div class="plyr-qimg"><img alt="${t.songTitle} from Auto Playlist Songs" width="40" src="${t.imageLink}" loading="lazy" height="40" /><button aria-label="Auto Playlist Song: ${t.songTitle}" class="btn queue-play" type="button" data-queue-play-id="${t.postID}"><span class="plyr-icon-play"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="plyr-qinfo"><span class="plyr-qsn">${t.songTitle}</span><div class="f ai-c gap-5 plyr-qan">${t.isExplicit?'<svg class="px-16 pxm-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M3 3v18h18V3H3zm13 6h-6v2h6v2h-6v2h6v2H8V7h8v2z"></path></svg>':""}<span class="artistMeta">${t.artistName}</span></div></div></div></div><div class="f ai-c jc-c plyr-item-list"><button class="rmM" data-remove-song-id="${t.postID}" aria-label="Remove Song from Queue: ${t.songTitle}" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 768 768"><g><path d="M655.5,112.5C582.9,39.9,486.6,0,384,0S185.1,39.9,112.5,112.5S0,281.4,0,384s39.9,198.9,112.5,271.5S281.4,768,384,768 s198.9-39.9,271.5-112.5S768,486.6,768,384S728.1,185.1,655.5,112.5z M624.6,624.6C560.3,689,474.8,724.4,384,724.4 S207.7,689,143.4,624.6C10.7,492,10.7,276,143.4,143.4C207.7,79,293.2,43.6,384,43.6S560.3,79,624.6,143.4 C757.3,276,757.3,492,624.6,624.6z"></path><path d="M553.2,214.8c-8.6-8.6-22.3-8.6-30.9,0L384,353.1L245.7,214.8c-8.6-8.6-22.3-8.6-30.9,0c-8.6,8.6-8.6,22.3,0,30.9 L353.1,384L214.8,522.3c-8.6,8.6-8.6,22.3,0,30.9c4.2,4.2,9.9,6.5,15.4,6.5s11.2-2.1,15.4-6.5l138.3-138.3l138.3,138.3 c4.2,4.2,9.9,6.5,15.4,6.5c5.7,0,11.2-2.1,15.4-6.5c8.6-8.6,8.6-22.3,0-30.9L414.9,384l138.3-138.3 C561.8,237.1,561.8,223.4,553.2,214.8z"></path></g></svg></button></div><div class="f ai-c jc-c plyr-item-list"><button class="btn user-like-queue" data-fav-id="${t.postID}" aria-label="Favourite from Auto Playlist: ${t.songTitle}" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button></div><div class="plyr-item-list"><span class="plyr-qsd">${t.duration}</span>\n<button class="more-menu" data-morelist-id="${t.postID}" aria-label="More from Queue: ${t.songTitle}" type="button" data-morelist-type="Song Queue" data-morelist-image="${t.imageLink}" data-morelist-url="${t.postUrl}" data-morelist-artist="${t.artistName}" data-morelist-title="${t.songTitle}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></article>`,d.appendChild(e)}));const u=c[0];if(!u)return void console.warn("No valid favorite songs loaded.");const p=d.querySelector(`li[data-queue-id="${u.postID}"]`);p&&p.classList.add("is-current");let m=[];u.mood&&m.push(u.mood),u.artist&&m.push(...u.artistName.split(",").map((t=>t.trim()))),u.cast&&m.push(...u.cast.split(",").map((t=>t.trim()))),u.genre&&m.push(u.genre),m=[...new Set(m)],d.setAttribute("data-queue-meta",`[${m.join(",")}]`),d.setAttribute("data-lang-queue",u.language||""),d.setAttribute("data-type-queue",u.songType||""),d.setAttribute("data-is-played-from","Auto Playlist"),u.movie?d.setAttribute("data-movie-queue-name",u.movie):d.removeAttribute("data-movie-queue-name"),d.setAttribute("data-type-year",u.year||"");const g=document.getElementById("p-img");g&&(g.style.backgroundImage=`url("${u.imageLink}")`);const y=document.getElementById("p-title");y&&(y.innerHTML=`<a class="domLoadContent" data-dom-id="${u.postID}" href="${u.postUrl}" data-dom-type="Post">${u.songTitle}</a>`);const f=document.getElementById("p-artist");if(f){const t=(u.artistName||"").split(",").map((t=>t.trim())).filter((t=>t.length)).map((t=>{const e=t;return`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="${"/search?q="+encodeURIComponent(t)}">${e}</a>`})).join(", ");f.innerHTML=t}const v=document.getElementById("p-fav");v&&v.setAttribute("data-fav-id",u.postID);const h=document.getElementById("p-more");h&&(h.setAttribute("data-morelist-id",u.postID),h.setAttribute("data-morelist-type","Player"));const b=document.getElementById("music");b&&(window.ytPlayer?window.ytPlayer.loadVideoById(u.musicId):(b.innerHTML=`<iframe id="youtube-player" class="w-full" src="https://www.youtube-nocookie.com/embed/${u.musicId}?&controls=0&disablekb=1&enablejsapi=1&iv_load_policy=3&modestbranding=1&playsinline=1&rel=0&showinfo=0&autoplay=1&mute=0&start=0" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>`,loadYouTubeAPI().then((t=>{window.ytPlayer=new t.Player("youtube-player",{events:{onReady:function(t){window.paceLoader.animate(),document.documentElement.classList.add("is-initializing"),t.target.playVideo(),requestAnimationFrame(window.updateTime)},onStateChange:function(e){if(applyPlayerItemColor(),window.paceLoader.remove(),document.documentElement.classList.remove("is-initializing","is-playing","is-paused","is-buffering"),e.data===t.PlayerState.PLAYING)document.documentElement.classList.add("is-playing"),requestAnimationFrame(window.updateTime);else if(e.data===t.PlayerState.PAUSED)document.documentElement.classList.add("is-paused");else if(e.data===t.PlayerState.BUFFERING)document.documentElement.classList.add("is-buffering");else if(e.data===t.PlayerState.ENDED){const t=localStorage.getItem("repeat_song");if("1"===t)window.ytPlayer.seekTo(0,!0),window.ytPlayer.playVideo();else if("2"===t){if(document.querySelectorAll("#queue li.plyr-item").length<=1)window.ytPlayer.seekTo(0,!0),window.ytPlayer.playVideo();else{let t=document.querySelector("#queue li.plyr-item.is-current").nextElementSibling;for(;t&&!t.classList.contains("plyr-item");)t=t.nextElementSibling;if(t)handleQueueButtonPlay(t.querySelector("[data-queue-play-id]"));else{const t=document.getElementById("queue").querySelector("li.plyr-item:first-child");if(t){const e=t.querySelector("[data-queue-play-id]");e&&(handleQueueButtonPlay(e),updateNextButtonState())}}}}else playNextSong();requestAnimationFrame(window.updateTime)}}}})})).catch((t=>{console.error("Error initializing the YouTube Player:",t)})))),updateQueueData()})),t(),function(){const t=document.getElementById("queue");if(!t)return;new MutationObserver((()=>{if("Auto Playlist"!==t.getAttribute("data-is-played-from"))return;const e=t.querySelector("li.plyr-item.is-current");if(!e)return;const a=e.getAttribute("data-queue-id");if(!a)return;document.querySelectorAll(".btn.auto-play.onView").forEach((t=>{t.classList.remove("onView")}));const s=document.querySelector(`.btn.auto-play[data-auto-play-id="${a}"]`);s&&s.classList.add("onView")})).observe(t,{subtree:!0,attributes:!0,attributeFilter:["class"]})}(),window.initAutoPlaylist=t}();
!function(){function e(e){try{const t=e.id.$t.split("-").pop(),a=e.content.$t,i=new DOMParser,s=i.parseFromString(a,"text/html").querySelector("#post-song-data");if(!s)return null;const o=e.link.find((e=>"alternate"===e.rel))?.href||"#";let l=!1;return Array.isArray(e.category)&&(l=e.category.some((e=>"explicit"===e?.term?.toLowerCase()))),{playlistId:"auto",playlistName:e.category.find((e=>e.term.startsWith("Song/")))?.label||"Auto Playlist Home",songId:t,musicId:s.getAttribute("data-music"),imageUrl:s.getAttribute("data-image"),songName:s.getAttribute("data-title-name"),artist:s.getAttribute("data-artist"),duration:s.getAttribute("data-duration"),genre:s.getAttribute("data-genre"),language:s.getAttribute("data-language"),movie:s.getAttribute("data-movie"),songType:s.getAttribute("data-song-type"),postUrl:o,isExplicit:l,addedAt:e.published.$t}}catch(e){return console.error("Error parsing entry to track:",e),null}}function t(e,t=null){const a=document.getElementById("queue");if(!a)return;a.innerHTML="",e.forEach((e=>{const t=document.createElement("li");t.className="plyr-item",t.setAttribute("data-queue-id",e.songId),t.setAttribute("data-music-id",e.musicId),t.setAttribute("data-genre",e.genre),t.setAttribute("data-song-source",e.postUrl),t.innerHTML=`<article class="f ai-c plyr-list-item-inner"><div class="f ai-c jc-c plyr-item-list dragQ"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M16 2C17.1046 2 18 2.89543 18 4C18 5.10457 17.1046 6 16 6C14.8954 6 14 5.10457 14 4C14 2.89543 14.8954 2 16 2Z"></path><path d="M16 10C17.1046 10 18 10.8954 18 12C18 13.1046 17.1046 14 16 14C14.8954 14 14 13.1046 14 12C14 10.8954 14.8954 10 16 10Z"></path><path d="M8 18C9.10457 18 10 18.8954 10 20C10 21.1046 9.10457 22 8 22C6.89543 22 6 21.1046 6 20C6 18.8954 6.89543 18 8 18Z"></path><path d="M16 18C17.1046 18 18 18.8954 18 20C18 21.1046 17.1046 22 16 22C14.8954 22 14 21.1046 14 20C14 18.8954 14.8954 18 16 18Z"></path><path d="M8 2C9.10457 2 10 2.89543 10 4C10 5.10457 9.10457 6 8 6C6.89543 6 6 5.10457 6 4C6 2.89543 6.89543 2 8 2Z"></path><path d="M8 10C9.10457 10 10 10.8954 10 12C10 13.1046 9.10457 14 8 14C6.89543 14 6 13.1046 6 12C6 10.8954 6.89543 10 8 10Z"></path></svg></div><div class="plyr-item-list"><div class="plyr-queue-ca"><div class="plyr-qimg"><img alt="${e.songName} from Auto Playlist Image" width="40" src="${e.imageUrl}" loading="lazy" height="40" /><button aria-label="Play Song: ${e.songName}" class="btn queue-play" type="button" data-queue-play-id="${e.songId}"><span class="plyr-icon-play"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="plyr-qinfo"><span class="plyr-qsn">${e.songName}</span><div class="f ai-c gap-5 plyr-qan">${e.isExplicit?'<svg class="px-16 pxm-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M3 3v18h18V3H3zm13 6h-6v2h6v2h-6v2h6v2H8V7h8v2z"></path></svg>':""}<span class="artistMeta">${e.artist}</span></div></div></div></div><div class="f ai-c jc-c plyr-item-list"><button class="rmM" data-remove-song-id="${e.songId}" aria-label="Auto Playlist Remove Song from Queue: ${e.songName}" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 768 768"><g><path d="M655.5,112.5C582.9,39.9,486.6,0,384,0S185.1,39.9,112.5,112.5S0,281.4,0,384s39.9,198.9,112.5,271.5S281.4,768,384,768 s198.9-39.9,271.5-112.5S768,486.6,768,384S728.1,185.1,655.5,112.5z M624.6,624.6C560.3,689,474.8,724.4,384,724.4 S207.7,689,143.4,624.6C10.7,492,10.7,276,143.4,143.4C207.7,79,293.2,43.6,384,43.6S560.3,79,624.6,143.4 C757.3,276,757.3,492,624.6,624.6z"></path><path d="M553.2,214.8c-8.6-8.6-22.3-8.6-30.9,0L384,353.1L245.7,214.8c-8.6-8.6-22.3-8.6-30.9,0c-8.6,8.6-8.6,22.3,0,30.9 L353.1,384L214.8,522.3c-8.6,8.6-8.6,22.3,0,30.9c4.2,4.2,9.9,6.5,15.4,6.5s11.2-2.1,15.4-6.5l138.3-138.3l138.3,138.3 c4.2,4.2,9.9,6.5,15.4,6.5c5.7,0,11.2-2.1,15.4-6.5c8.6-8.6,8.6-22.3,0-30.9L414.9,384l138.3-138.3 C561.8,237.1,561.8,223.4,553.2,214.8z"></path></g></svg></button></div><div class="f ai-c jc-c plyr-item-list"><button class="btn user-like-queue" data-fav-id="${e.songId}" aria-label="Auto Playlist Like from Queue: ${e.songName}" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button></div><div class="plyr-item-list"><span class="plyr-qsd">${e.duration}</span>\n<button class="more-menu" data-morelist-id="${e.songId}" aria-label="More from Queue Auto Playlist: ${e.songName}" type="button" data-morelist-type="Song Queue" data-morelist-image="${e.imageUrl}" data-morelist-url="${e.postUrl}" data-morelist-artist="${e.artist}" data-morelist-title="${e.songName}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></article>`,a.appendChild(t)}));const i=e.find((e=>e.songId===t))||e[0];if(!i)return void console.warn("No valid playlist tracks loaded.");const s=a.querySelector(`li[data-queue-id="${i.songId}"]`);s&&s.classList.add("is-current");let o=[];i.genre&&o.push(i.genre),i.artist&&o.push(...i.artist.split(",").map((e=>e.trim()))),o=[...new Set(o)],a.setAttribute("data-queue-meta",`[${o.join(",")}]`),a.setAttribute("data-lang-queue",i.language||""),a.setAttribute("data-type-queue",i.songType||""),i.movie?a.setAttribute("data-movie-queue-name",i.movie):a.removeAttribute("data-movie-queue-name"),a.setAttribute("data-is-played-from",i.playlistName);const l=document.getElementById("player");l&&l.classList.remove("hidden"),window.rightTimeEl&&(window.rightTimeEl.innerHTML=i.duration),window.leftTimeEl&&(window.leftTimeEl.innerHTML="0:00"),window.togglePlay&&(window.togglePlay.classList.add("is-pressed"),window.togglePlay.setAttribute("aria-pressed","true"));const n=document.getElementById("p-img");n&&(n.style.backgroundImage=`url("${i.imageUrl}")`);const r=document.getElementById("p-title");r&&(r.innerHTML=`<a class="domLoadContent" data-dom-id="${i.songId}" href="${i.postUrl}" data-dom-type="Post">${i.songName}</a>`);const d=document.getElementById("p-artist");if(d){const e=(i.artist||"").split(",").map((e=>e.trim())).filter(Boolean);d.innerHTML=e.map((e=>`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="${"/search?q="+encodeURIComponent(e)}">${e}</a>`)).join(", ")}const u=document.getElementById("p-fav");u&&u.setAttribute("data-fav-id",i.songId);const c=document.getElementById("p-more");c&&(c.setAttribute("data-morelist-id",i.songId),c.setAttribute("data-morelist-type","Player"));const p=document.getElementById("music");p&&(window.ytPlayer?window.ytPlayer.loadVideoById(i.musicId):(p.innerHTML=`<iframe id="youtube-player" class="w-full" src="https://www.youtube-nocookie.com/embed/${i.musicId}?&controls=0&disablekb=1&enablejsapi=1&iv_load_policy=3&modestbranding=1&playsinline=1&rel=0&showinfo=0&autoplay=1&mute=0&start=0" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>`,loadYouTubeAPI().then((e=>{window.ytPlayer=new e.Player("youtube-player",{events:{onReady:function(e){window.paceLoader.animate(),document.documentElement.classList.add("is-initializing"),e.target.playVideo(),requestAnimationFrame(window.updateTime)},onStateChange:function(t){if(window.paceLoader.remove(),applyPlayerItemColor(),document.documentElement.classList.remove("is-initializing","is-playing","is-paused","is-buffering"),t.data===e.PlayerState.PLAYING)document.documentElement.classList.add("is-playing"),window.togglePlay&&(window.togglePlay.classList.add("is-pressed"),window.togglePlay.setAttribute("aria-pressed","true")),requestAnimationFrame(window.updateTime);else if(t.data===e.PlayerState.PAUSED)document.documentElement.classList.add("is-paused"),window.togglePlay&&(window.togglePlay.classList.remove("is-pressed"),window.togglePlay.setAttribute("aria-pressed","false"));else if(t.data===e.PlayerState.BUFFERING)document.documentElement.classList.add("is-buffering");else if(t.data===e.PlayerState.ENDED){const e=localStorage.getItem("repeat_song");if("1"===e)window.ytPlayer.seekTo(0,!0),window.ytPlayer.playVideo();else if("2"===e){if(document.querySelectorAll("#queue li.plyr-item").length<=1)window.ytPlayer.seekTo(0,!0),window.ytPlayer.playVideo();else{let e=document.querySelector("#queue li.plyr-item.is-current").nextElementSibling;for(;e&&!e.classList.contains("plyr-item");)e=e.nextElementSibling;if(e)handleQueueButtonPlay(e.querySelector("[data-queue-play-id]"));else{const e=a.querySelector("li.plyr-item:first-child");if(e){const t=e.querySelector("[data-queue-play-id]");t&&(handleQueueButtonPlay(t),updateNextButtonState())}}}}else playNextSong();requestAnimationFrame(window.updateTime)}}}})})).catch((e=>console.error("Error initializing YouTube API:",e))))),function(){const e=document.querySelector("#queue li.plyr-item.is-current"),t=e?e.getAttribute("data-queue-id"):null;document.querySelectorAll(".playlist-play-btn").forEach((e=>{e.getAttribute("data-playlist-song-id")===t?e.classList.add("is-current"):e.classList.remove("is-current")}))}()}document.body.addEventListener("click",(a=>{const i=a.target.closest(".playlistAutoBtn");if(!i)return;const s=i.getAttribute("data-playlist-label"),o=i.getAttribute("data-playlist-lang"),l=i.getAttribute("data-playlist-year");s&&o?async function(a,i,s){toastNotif.loading("Creating playlist!");const o=`/feeds/posts/default/-/Song/${encodeURIComponent(a)}/${encodeURIComponent(i)}${s?`/${encodeURIComponent(s)}`:""}?alt=json&max-results=99&orderby=published`;try{const a=await fetch(o);if(!a.ok)throw new Error(`HTTP ${a.status}`);const i=((await a.json()).feed.entry||[]).map(e).filter((e=>null!==e));if(0===i.length)return void toastNotif.already("No songs found!");for(let e=i.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[i[e],i[t]]=[i[t],i[e]]}const s=i.slice(0,50);t(s,s[0].songId),"function"==typeof updateQueueData&&updateQueueData(),toastNotif.success("Songs added!")}catch(e){console.error("Error loading auto-playlist:",e),toastNotif.already("No songs found!")}}(s,o,l):console.warn("Missing label or lang for playlist button:",i)}))}();
