!function(){let e=!1,t=!1,o=!1;const n=function(e){const t="Disqualify? Are you sure you want to leave?";return e.preventDefault(),e.returnValue=t,t};function s(){e=!!document.querySelector("div.desktop"),t=document.documentElement.classList.contains("is-playing"),e&&t?o||(window.addEventListener("beforeunload",n),o=!0):o&&(window.removeEventListener("beforeunload",n),o=!1)}s();new MutationObserver((o=>{for(const n of o){for(const t of n.addedNodes)1===t.nodeType&&(t.matches?.("div.desktop")||t.querySelector?.("div.desktop"))&&(e=!0);for(const t of n.removedNodes)1===t.nodeType&&t.matches?.("div.desktop")&&(e=!!document.querySelector("div.desktop"));"attributes"===n.type&&n.target===document.documentElement&&"class"===n.attributeName&&(t=document.documentElement.classList.contains("is-playing"))}s()})).observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}();
!function(){const s=document.documentElement,e=document.querySelector("#toggle-play");if(!e)return;let t=!1;const i=()=>{const i=s.classList.contains("is-paused"),r=e.classList.contains("is-pressed");if(!t){if(!r)return;t=!0}i&&r?e.classList.remove("is-pressed"):i||r||e.classList.add("is-pressed")};new MutationObserver(i).observe(s,{attributes:!0,attributeFilter:["class"]});new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["class"]}),i()}();
!function(){function t(){const t=document.documentElement.getAttribute("data-music-playing");document.querySelectorAll("button[data-play-id]").forEach((e=>{t&&e.getAttribute("data-play-id")===t?e.classList.add("onView"):e.classList.remove("onView")})),document.querySelectorAll("button[data-fav-play-id]").forEach((e=>{t&&e.getAttribute("data-fav-play-id")===t?e.classList.add("onView"):e.classList.remove("onView")}))}function e(){!function(){const t=document.getElementById("queue");if(!t)return null;const e=t.querySelector(".is-current");if(e){const t=e.getAttribute("data-queue-id");if(t){const e=document.documentElement.getAttribute("data-music-playing");return e!==t?(document.documentElement.setAttribute("data-music-playing",t),t):e}}}();t()}e();new MutationObserver((e=>{for(let i of e)if("attributes"===i.type&&"data-music-playing"===i.attributeName){t();break}})).observe(document.documentElement,{attributes:!0,attributeFilter:["data-music-playing"]});new MutationObserver((t=>{for(let i of t){if("childList"===i.type){e();break}if("attributes"===i.type&&"class"===i.attributeName){const t=i.target;if(t.closest&&t.closest("#queue")){e();break}}}})).observe(document.body,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["class","data-queue-id"]}),window.setMusicPlaying=function(t){document.documentElement.setAttribute("data-music-playing",t)}}();
!function(){const e=()=>{const e=document.querySelector('a[data-plyr="lyrics"]');e&&(window.location.pathname.includes("/p/lyrics.html")?e.classList.add("pressed"):e.classList.remove("pressed"))};document.addEventListener("click",(t=>{t.target.closest('a[data-plyr="lyrics"]')&&setTimeout(e,200)})),["popstate","hashchange"].forEach((t=>window.addEventListener(t,e)));new MutationObserver((()=>{e()})).observe(document.body,{childList:!0,subtree:!0}),e()}();
!function(){function t(t){return(JSON.parse(localStorage.getItem("favoriteSongs"))||[]).some((e=>e.id===t))}function e(e){const a=e.getAttribute("data-fav-id");if(!a)return;const s=e.querySelector("svg");s&&(t(a)?(e.classList.add("saved"),s.classList.remove("hOff"),s.classList.add("hOn")):(e.classList.remove("saved"),s.classList.remove("hOn"),s.classList.add("hOff")))}function a(){document.querySelectorAll("[data-fav-id]").forEach((t=>{e(t)}))}document.addEventListener("click",(function(t){const e=t.target.closest("[data-fav-id]");if(!e)return;const a=e.getAttribute("data-fav-id");let s=JSON.parse(localStorage.getItem("favoriteSongs"))||[];const o=s.findIndex((t=>t.id===a)),d=e.querySelector("svg");if(d){if(-1===o){if(s.length>=100)return void toastNotif.error("Cannot save more than 100 songs.");s.push({id:a,savedAt:Date.now()}),e.classList.add("saved"),toastNotif.success("Saved to favorites"),d.classList.remove("hOff"),d.classList.add("hOn")}else s.splice(o,1),e.classList.remove("saved"),toastNotif.delete("Removed from favorites"),d.classList.remove("hOn"),d.classList.add("hOff");!function(t){localStorage.setItem("favoriteSongs",JSON.stringify(t)),document.dispatchEvent(new CustomEvent("favoriteSongsUpdated",{detail:t}))}(s)}})),document.addEventListener("favoriteSongsUpdated",(()=>a())),window.addEventListener("storage",(t=>{"favoriteSongs"===t.key&&a()}));new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.length?t.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&(t.hasAttribute("data-fav-id")&&e(t),t.querySelectorAll("[data-fav-id]").forEach((t=>e(t))))})):"attributes"===t.type&&"data-fav-id"===t.attributeName&&e(t.target)}))})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-fav-id"]}),a(),window.toggleFavorite=function(t){const e=document.querySelector(`[data-fav-id="${t}"]`);e&&e.click()},window.isSongFavorite=t}();
!function(){function t(t){return(JSON.parse(localStorage.getItem("favoriteArtists"))||[]).some((e=>e.artist===t))}function e(e){const s=e.getAttribute("data-fav-artist");if(!s)return;const a=e.querySelector("svg");a&&(t(s)?(e.classList.add("saved"),a.classList.remove("hOff"),a.classList.add("hOn")):(e.classList.remove("saved"),a.classList.remove("hOn"),a.classList.add("hOff")))}function s(){document.querySelectorAll("[data-fav-artist]").forEach((t=>{e(t)}))}document.addEventListener("click",(function(t){const e=t.target.closest("[data-fav-artist]");if(!e)return;const s=e.getAttribute("data-fav-artist");let a=JSON.parse(localStorage.getItem("favoriteArtists"))||[];const r=a.findIndex((t=>t.artist===s)),i=e.querySelector("svg");if(i){if(-1===r){if(a.length>=100)return void toastNotif.error("Cannot save more than 100 artists.");a.push({artist:s,savedAt:Date.now()}),e.classList.add("saved"),toastNotif.success("Saved to your artists"),i.classList.remove("hOff"),i.classList.add("hOn")}else a.splice(r,1),e.classList.remove("saved"),toastNotif.delete("Removed from your artists"),i.classList.remove("hOn"),i.classList.add("hOff");!function(t){localStorage.setItem("favoriteArtists",JSON.stringify(t)),document.dispatchEvent(new CustomEvent("favoriteArtistsUpdated",{detail:t}))}(a)}})),document.addEventListener("favoriteArtistsUpdated",s),window.addEventListener("storage",(t=>{"favoriteArtists"===t.key&&s()}));new MutationObserver((t=>{for(const s of t)"childList"===s.type&&s.addedNodes.length?s.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&(t.hasAttribute("data-fav-artist")&&e(t),t.querySelectorAll("[data-fav-artist]").forEach((t=>e(t))))})):"attributes"===s.type&&"data-fav-artist"===s.attributeName&&e(s.target)})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-fav-artist"]}),s(),window.toggleArtistFavorite=function(t){const e=document.querySelector(`[data-fav-artist="${t}"]`);e&&e.click()},window.isArtistFavorite=t}();
!function(e,t){var l=t.documentElement,r=!!t.querySelector(".mTheme.mobile");function s(){l.setAttribute("data-full-mode-player","true"),c&&c.classList.add("pressed")}function n(){l.removeAttribute("data-full-mode-player"),c&&c.classList.remove("pressed")}function a(){var e=Promise.resolve();return t.exitFullscreen?e=t.exitFullscreen():t.mozCancelFullScreen?e=t.mozCancelFullScreen():t.webkitExitFullscreen?e=t.webkitExitFullscreen():t.msExitFullscreen&&(e=t.msExitFullscreen()),e.then((()=>{u&&u.classList.remove("pressed"),l.removeAttribute("data-full-screen-player")})).catch(console.error)}var c=t.querySelector(".plyr-full-mode"),u=t.querySelector('.btn.plyr-full-screen[data-plyr="fullScreen"]'),i=t.getElementById("player");if(c&&c.addEventListener("click",(function(e){e.stopPropagation(),l.hasAttribute("data-full-mode-player")?n():s()})),u&&(u.addEventListener("click",(function(e){var t;e.stopPropagation(),this.classList.contains("pressed")?a():(t=l,t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():Promise.reject()).then((()=>{this.classList.add("pressed"),l.setAttribute("data-full-screen-player","true")})).catch(console.error)})),t.addEventListener("fullscreenchange",(function(){var e=!!t.fullscreenElement;u.classList.toggle("pressed",e),l.toggleAttribute("data-full-screen-player",e)}))),r){var o=!1,d=new MutationObserver((function(e){o||e.forEach((function(e){"class"===e.attributeName&&l.classList.contains("is-playing")&&(s(),o=!0,d.disconnect())}))}));d.observe(l,{attributes:!0}),i&&i.addEventListener("click",(function(e){e.target.closest(".plyr-prog, .plyr-prev, .plyr-play, .plyr-next, .plyr-like")||l.hasAttribute("data-full-mode-player")||s()}))}t.addEventListener("click",(function(e){e.target.closest("a")&&(l.hasAttribute("data-full-mode-player")&&n(),l.hasAttribute("data-full-screen-player")&&a())}))}(window,document);
!function(){const e=document.getElementById("p-img"),t=document.getElementById("player");function r(e){const t=/url\(["']?(.*?)["']?\)/.exec(e);return t?t[1]:""}function n(e){if(!e)return;const r=function(){let e=t.querySelector("#plyrBG-container");return e||(e=document.createElement("div"),e.id="plyrBG-container",e.className="plyrBG",t.appendChild(e)),e}();let n=r.querySelector("img.colorBG");n||(n=document.createElement("img"),n.className="colorBG",n.alt="BackGround Image",n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.loading="lazy",r.appendChild(n)),n.src!==e&&(n.src=e)}e&&t&&(n(r(getComputedStyle(e).backgroundImage)),new MutationObserver((t=>{t.forEach((t=>{"attributes"===t.type&&"style"===t.attributeName&&n(r(getComputedStyle(e).backgroundImage))}))})).observe(e,{attributes:!0,attributeFilter:["style"]}))}();
