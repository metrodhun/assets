!function(){function t(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}window.updateTopSong=function(){(async()=>{const a=document.querySelector(".topSong");if(!a)return;let e=null,s=a.previousElementSibling;if(s?.classList.contains("contentSong"))e=s;else if((s=a.nextElementSibling)?.classList.contains("contentSong"))e=s;else{for(s=a.previousElementSibling;s;){if(s.classList.contains("contentSong")){e=s;break}s=s.previousElementSibling}if(!e)for(s=a.nextElementSibling;s;){if(s.classList.contains("contentSong")){e=s;break}s=s.nextElementSibling}}if(!e)return;const i=e.querySelector(".music-info-fetch");if(!i)return;let n=e.getAttribute("data-fetch-id")||"";const o=i.getAttribute("data-image")||"",r=i.getAttribute("data-title-name")||"",l=i.getAttribute("data-artist")||"",d=i.getAttribute("data-language")||"",c=i.getAttribute("data-duration")||"",g=i.getAttribute("data-song-type")||"",m=i.getAttribute("data-year")||"",u=i.getAttribute("data-label")||"",p=t(o),f=t(r),h=t(d),b=t(c),v=t(g),A=t(m),y=t(u),$=window.location.href,S=t(n),x=l.split(",").map((t=>t.trim())).filter(Boolean);let w="";const k=Math.min(x.length,3);for(let a=0;a<k;a++){const e=t(x[a]);w+=`<div class="br50 pos-r of-h sNImg" data-formed-img="${e}"><a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="/search?q=${encodeURIComponent(e)}"><img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" loading="lazy" alt="${e}" /></a></div>`}let q="";if(x.length){const a=t(x[0]);q=`<a class="domLoadContent" data-dom-type="Post" data-dom-auto="Artist" data-dom-id="false" href="/search?q=${encodeURIComponent(x[0])}">${a}</a>`,x.length>1&&(q+=`<span> + ${x.length-1} more</span>`)}const C=`<div class="f ai-c cAS"><div class="cL"><div class="imgL"><img class="imgC" alt="${f} Album Art" loading="lazy" height="250" src="${p}" width="250" /><span class="angL"></span></div></div><div class="cR">${v?`<div class="sg-info sTY"><span>${v}</span></div>`:""} ${f?`<h2 class="sg-h"><span>${f}</span></h2>`:""} ${x.length?`<div class="f ai-c sg-info sNG">${w}<div class="sNATXT">${q}</div></div>`:""}<div class="f ai-c gap-5 sg-info inF mTC"><span class="sg-type">Song</span>${b?`<span class="sprt">•</span><span class="sg-dur">${b}</span>`:""} ${h?`<span class="sprt">•</span><span class="sg-lang">${h}</span>`:""}</div>${A||y?`<div class="sg-info inF cCD"><div class="sg-label">© ${A}${A&&y?" ":""}<a class="domLoadContent" href="/search?q=${encodeURIComponent(y)}" data-dom-id="false" data-dom-to-load="Label" data-dom-type="AutoDOM" data-dom-auto="viewDom">${y}</a></div></div>`:""}<div class="sg-info inBtns"><button class="mx-btn" data-play-from="Post" data-play-id="${S}" aria-label="Play ${f} from Post" type="button"><span class="mx-svg"><svg class="isPlaySvg" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg><svg class="isPauseSvg" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg><svg class="isEQSvg" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" x2="3" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" x2="8" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" x2="13" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" x2="18" y1="22" y2="2"></line></svg></span><span class="b mx-txt sPLY" data-text="Play"></span><span class="b mx-txt sPAU" data-text="Pause"></span></button><button class="mx-btnFS post-user-like" data-fav-id="${S}" aria-label="Add to favorites ${f} from Post" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button><button class="mx-btnFS more-menu" data-morelist-id="${S}" data-morelist-type="Song" data-morelist-image="${p}" data-morelist-url="${$}" data-morelist-artist="${x}" data-morelist-title="${f}" aria-label="View options ${f} from Post" type="button"><svg viewBox="0 0 512 512" aria-hidden="true" focusable="false" role="presentation"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div></div>`.trim();if(a.innerHTML=C,"true"===i.getAttribute("data-main-album")){const t=i.getAttribute("data-movie");if(t){const e=`/feeds/posts/default?q=${encodeURIComponent(t+" Type+Album")}&max-results=99&alt=json`;try{const t=await fetch(e),s=await t.json(),i=(s.feed.entry||[]).filter((t=>!Array.isArray(t.category)||!t.category.some((t=>"string"==typeof t.term&&"Main Album"===t.term.trim()))));let n=i.find((t=>Array.isArray(t.category)&&t.category.some((t=>"string"==typeof t.term&&"Order 1"===t.term.trim()))));if(!n&&i.length&&(n=i[0]),n?.id?.$t){const t=n.id.$t.match(/\.post-(\d+)$/);if(t){const e=t[1],s=a.querySelector("[data-play-id]"),i=a.querySelector("[data-fav-id]"),n=a.querySelector("[data-morelist-id]");s&&(s.setAttribute("data-play-id",e),s.setAttribute("data-play-from","MoreSongs")),i&&i.setAttribute("data-fav-id",e),n&&n.setAttribute("data-morelist-id",e)}}}catch(t){console.error("Error fetching album feed:",t)}}}try{const t=await fetch("https://raw.githubusercontent.com/metrodhun/music-database/refs/heads/main/music-database.json"),a=(await t.json()).reduce(((t,a)=>(a.person_name&&a.person_image&&(t[a.person_name]=a.person_image),t)),{});document.querySelectorAll(".sNImg").forEach((t=>{const e=t.getAttribute("data-formed-img");t.querySelector("img").src=a[e]||"https://cdn.metrodhun.com/dist/vendors/images/defaults/default-500x500.jpg"}))}catch(t){console.error("Could not load artist JSON:",t)}})()},window.updateTopSong()}();
!function(){function t(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}window.updateTopSongArtist=async function(){const a=document.querySelector(".topSongArtist");if(!a)return;let s=Array.from(a.parentNode.children).find((t=>t!==a&&t.classList.contains("contentSong")&&t.classList.contains("artistT")));if(!s)return;a.innerHTML="";const e=s.querySelector("#artist-data");if(!e)return;const i=e.getAttribute("data-artist-name")||"",n=e.getAttribute("data-artist-image")||"",r=e.getAttribute("data-artist-country")||"",o=e.getAttribute("data-artist-language")||"",l=e.getAttribute("data-artist-verified")||"",c=t(i),d="true"===String(l).toLowerCase(),p=window.location.href;let g=n.trim();if(!g)try{const t=await fetch("https://raw.githubusercontent.com/metrodhun/music-database/refs/heads/main/music-database.json"),a=(await t.json()).find((t=>t.person_name===i));a&&a.person_image&&(g=a.person_image)}catch(t){console.warn("Failed to fetch Music Database from Github:",t)}g||(g="https://cdn.metrodhun.com/dist/vendors/images/defaults/default-500x500.jpg"),g=t(g);const u=r.trim()?t(r):"Not Known",f=o.trim()?t(o):"Not Known",h=`<div class="f ai-c cAS"><div class="cL"><div class="imgL"><img alt="${c} Image" class="imgC" height="250" loading="lazy" src="${g}" width="250"/><span class="angL"></span></div></div><div class="cR"><div class="f ai-c gap-7 sg-info sT">${d?'<span><svg viewBox="0 0 19.5 19.5" aria-hidden="true" focusable="false" role="presentation"><path d="M15.1,3.9c0.2,0.1,0.4,0.3,0.5,0.5l2,4.9c0.1,0.2,0.1,0.5,0,0.8l-2.1,4.9c-0.1,0.2-0.3,0.4-0.5,0.5l-4.9,2c-0.2,0.1-0.5,0.1-0.8,0l-4.9-2.1C4.1,15.4,4,15.3,3.9,15l-2-4.9c-0.1-0.2-0.1-0.5,0-0.8l2.1-4.9C4.1,4.1,4.3,4,4.5,3.9l4.9-2c0.2-0.1,0.5-0.1,0.8,0L15.1,3.9z" class="vfB"></path><path d="M12.2,7.9c-0.2-0.2-0.5-0.2-0.7,0.1l-2.5,2.9L7.9,9.8c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7L8.6,12c0,0,0,0,0,0c0,0,0,0,0,0c0,0.1,0,0.1,0,0.2,0,0,0,0,0,0c0,0,0,0,0,0.1,0,0,0,0,0,0l2.9-3.3C12.4,8.4,12.4,8.1,12.2,7.9z" class="vfT"></path></svg></span><span>Verified Artist</span>':"<span>Artist</span>"}</div>${c?`<h2 class="sg-h p-title"><span>${c}</span></h2>`:""} ${`<div class="if ai-c gap-5 sg-info tLST coTY"><span class="icon-md"><svg class="px-18" role="presentation" viewBox="0 0 16 16" aria-hidden="true" focusable="false" role="presentation"><path d="M8.152 16H8a8 8 0 1 1 .152 0zm-.41-14.202c-.226.273-.463.713-.677 1.323-.369 1.055-.626 2.496-.687 4.129h3.547c-.06-1.633-.318-3.074-.687-4.129-.213-.61-.45-1.05-.676-1.323-.194-.235-.326-.285-.385-.296h-.044c-.055.007-.19.052-.391.296zM4.877 7.25c.062-1.771.34-3.386.773-4.624.099-.284.208-.554.329-.806a6.507 6.507 0 0 0-4.436 5.43h3.334zm-3.334 1.5a6.507 6.507 0 0 0 4.436 5.43 7.974 7.974 0 0 1-.33-.806c-.433-1.238-.71-2.853-.772-4.624H1.543zm4.835 0c.061 1.633.318 3.074.687 4.129.214.61.451 1.05.677 1.323.202.244.336.29.391.297l.044-.001c.06-.01.19-.061.385-.296.226-.273.463-.713.676-1.323.37-1.055.626-2.496.687-4.129H6.378zm5.048 0c-.061 1.771-.339 3.386-.772 4.624-.082.235-.171.46-.268.674a6.506 6.506 0 0 0 4.071-5.298h-3.03zm3.031-1.5a6.507 6.507 0 0 0-4.071-5.298c.097.214.186.44.268.674.433 1.238.711 2.853.772 4.624h3.031z"></path></svg></span><span class="sg-label">${u}</span></div>`.trim()} ${`<div class="f ai-c gap-5 sg-info inV"><span class="icon-md"><svg aria-hidden="true" viewBox="0 0 24 24" aria-hidden="true" focusable="false" role="presentation"><path d="m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"></path></svg></span><span class="sg-pl">${f}</span></div>`.trim()}<div class="sg-info inBtns"><button class="mx-btn" data-play-from="Artist" data-play-title-name="${c}" data-play-id="artist-${t(s.getAttribute("data-fetch-id")||"")}" aria-label="${c} Start Radio from Post" type="button"><span class="mx-svg"><svg class="isPlaySvg" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg><svg class="isPauseSvg" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg><svg class="isEQSvg" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" x2="3" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" x2="8" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" x2="13" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" x2="18" y1="22" y2="2"></line></svg></span><span class="b mx-txt sPLY" data-text="Play"></span><span class="b mx-txt sPAU" data-text="Pause"></span></button><button class="mx-btnFS post-user-like" data-fav-artist="${c}" aria-label="${c} Add to favourites from Post" type="button"><svg class="hOff fn" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></button><button class="mx-btnFS more-menu" data-morelist-id="${t(s.getAttribute("data-fetch-id")||"")}" data-morelist-url="${p}" data-morelist-type="Artist Page" data-morelist-image="${g}" aria-label="${c} View options from Post" type="button"><svg viewBox="0 0 512 512" aria-hidden="true" focusable="false" role="presentation"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div></div>`.trim();a.innerHTML=h},window.updateTopSongArtist()}();
