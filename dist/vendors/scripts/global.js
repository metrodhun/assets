!function(){function e(){if(!document.querySelector(".mTheme.desktop"))return;document.querySelectorAll(".maxH").forEach((function(e){const t=e.querySelector(".wC");if(!t)return;if(t.scrollTop=0,e.classList.remove("scrollB"),"true"===e.dataset.scrollInitialized){const t=e.querySelector(".custom-scroll-thumb");return void(t&&(t.style.top="0px",t.style.height="100px"))}const o=function(){!function(){const o=e.querySelector(".custom-scroll-track");o&&o.remove();const l=document.createElement("div");l.className="custom-scroll-track";const s=document.createElement("div");function c(){const e=t.clientHeight/t.scrollHeight,o=Math.max(e*t.clientHeight,20);s.style.height=o+"px";const l=t.scrollTop/(t.scrollHeight-t.clientHeight);s.style.top=l*(t.clientHeight-s.offsetHeight)+"px"}s.className="custom-scroll-thumb",l.appendChild(s),e.appendChild(l),t.addEventListener("scroll",(function(){c();const o=t.scrollTop,l=t.scrollHeight,s=o+t.clientHeight>=l-1;o>10&&!s?e.classList.add("scrollY"):e.classList.remove("scrollY"),s?e.classList.add("scrollB"):e.classList.remove("scrollB")})),window.addEventListener("resize",c),c();let n,i,r=!1;s.addEventListener("mousedown",(function(e){r=!0,n=e.clientY,i=parseFloat(getComputedStyle(s).top),document.body.classList.add("unselectable"),e.preventDefault()})),document.addEventListener("mousemove",(function(e){if(!r)return;const o=e.clientY-n,l=Math.min(Math.max(0,i+o),t.clientHeight-s.offsetHeight)/(t.clientHeight-s.offsetHeight);t.scrollTop=l*(t.scrollHeight-t.clientHeight)})),document.addEventListener("mouseup",(function(){r=!1,document.body.classList.remove("unselectable")})),e.dataset.scrollInitialized="true"}(),t.removeEventListener("mousemove",o)};t.addEventListener("mousemove",o)}))}window.customScroll=e,e()}();
!function(){const t=document.querySelector(".navL");if(!t)return;let e=null;function n(){const n=location.pathname+location.search;let a=!1;t.querySelectorAll("a.domLoadContent").forEach(t=>{const o=new URL(t.href,location.origin);o.pathname+o.search===n?(t.classList.add("is-active"),a=!0,e=t):t.classList.remove("is-active")}),a||(t.querySelectorAll("a.is-active").forEach(t=>t.classList.remove("is-active")),e=null)}n(),t.addEventListener("click",function(a){const o=a.target.closest("a.domLoadContent");o&&t.contains(o)&&setTimeout(()=>{e=o,n()},50)}),document.addEventListener("click",function(n){const a=n.target.closest("a.domLoadContent, a");a&&e&&!t.contains(a)&&(t.querySelectorAll("a.is-active").forEach(t=>t.classList.remove("is-active")),e=null)}),window.addEventListener("popstate",n),window.addEventListener("pushstate",n),window.addEventListener("replacestate",n)}();
!function(){["pushState","replaceState"].forEach(t=>{const e=history[t];history[t]=function(){const a=e.apply(this,arguments);return window.dispatchEvent(new Event(t.toLowerCase())),a}});const t=document.querySelector(".navLM");if(!t)return;let e=null;function a(){const a=location.pathname+location.search;let n=!1;t.querySelectorAll('a[data-discover="true"]').forEach(t=>{const c=new URL(t.href,location.origin);c.pathname+c.search===a?(t.classList.add("active"),n=!0,e=t):t.classList.remove("active")}),n||(t.querySelectorAll("a.active").forEach(t=>t.classList.remove("active")),e=null)}a(),t.addEventListener("click",function(n){const c=n.target.closest('a[data-discover="true"]');c&&t.contains(c)&&setTimeout(()=>{e=c,a()},100)}),document.addEventListener("click",function(a){const n=a.target.closest('a[data-discover="true"], a');n&&e&&!t.contains(n)&&(t.querySelectorAll("a.active").forEach(t=>t.classList.remove("active")),e=null)}),window.addEventListener("popstate",a),window.addEventListener("pushstate",a),window.addEventListener("replacestate",a)}();
!function(){const t="MetroDhun",e=document.documentElement;function n(){const n=document.querySelector("#p-title"),r=n?.querySelector("a");if(!n||!r)return;const c=e.hasAttribute("data-music-playing")&&e.classList.contains("is-playing"),o=r.textContent.trim();document.title=c&&o?`${o} - ${t}`:t}const r=new MutationObserver((()=>{document.querySelector("#p-title a")&&(!function(){const t=document.querySelector("#p-title"),r=t?.querySelector("a");if(!t||!r)return;new MutationObserver(n).observe(t,{childList:!0,subtree:!0,characterData:!0}),new MutationObserver(n).observe(e,{attributes:!0,attributeFilter:["data-music-playing","class"]}),n()}(),r.disconnect())}));r.observe(document.body,{childList:!0,subtree:!0})}();
