!function(t){const e="https://cdn.metrodhun.com/dist/vendors/images/defaults/default-500x500.jpg";let a=[],s=[],o=localStorage.getItem("favoriteArtists");function i(t,a){a.innerHTML="",t.length?t.forEach((t=>{const s=t.person_id?` data-artist-fetch-id="${t.person_id}"`:"",o=t.person_data||"Not Known";a.insertAdjacentHTML("beforeend",`<div class="ipst artist" ${s} data-mbop="true"><div class="ipstI"><img alt="${t.name}" loading="lazy" src="${t.person_image||e}" width="250" height="250" /><div class="ipstBk"><button class="btn" data-play-id="false" data-play-from="Artist" title="Start Radio" type="button"><svg fill="currentColor" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z"></path></svg></button><button type="button" title="View options" class="btn more-menu" data-morelist-id="false" data-morelist-type="Artist Radio" data-morelist-image="${t.person_image||e}" data-morelist-url="${encodeURIComponent(t.name)}" data-morelist-artist="false" data-morelist-title="${t.name}"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"></path></svg></button></div></div><div class="ipstBD"><h4 class="elp1 ipstT"><a class="domLoadContent" data-dom-id="false" data-dom-auto="Artist" data-dom-type="Post" href="/search?q=${encodeURIComponent(t.name)}">${t.name}</a></h4><div class="snippet">${o}</div></div></div>`)})):a.innerHTML='<div class="f fdc gap-10 ai-c jc-c noItm"><div class="nItmSvg"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">No artist found in your library!</div></div>'}function r(){const t=document.getElementById("artist-fetch-user"),e=document.getElementById("search_form_artist"),o=document.querySelector(".popHB");if(!t)return;let r;try{r=JSON.parse(localStorage.getItem("favoriteArtists")||"[]")}catch(e){return console.error(e),void(t.textContent='<div class="f fdc gap-10 ai-c jc-c noItm"><div class="nItmSvg"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">Error loading favorite artists.</div></div>')}if(!r.length)return void(t.innerHTML='<div class="f fdc gap-10 ai-c jc-c noItm"><div class="nItmSvg"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">No favorite artist saved yet!</div></div>');if(i(r.slice().sort(((t,e)=>e.savedAt-t.savedAt)).map((t=>({name:t.artist,savedAt:t.savedAt}))),t),fetch("https://raw.githubusercontent.com/metrodhun/music-database/refs/heads/main/music-database.json").then((t=>t.json())).then((e=>{a=r.map((t=>{const a=e.find((e=>e.person_name===t.artist))||{};return{name:t.artist,savedAt:t.savedAt,person_id:a.person_id,person_image:a.person_image,person_data:a.person_data}})),s=a.slice().sort(((t,e)=>e.savedAt-t.savedAt)),i(s,t)})).catch((e=>{console.error(e),t.querySelectorAll(".snippet").forEach((t=>t.textContent="Error"))})),o){const e=o.querySelector(".zPop"),a=o.querySelector("button");e&&a&&(e.querySelectorAll("li").forEach((r=>{r.addEventListener("click",(()=>{e.querySelectorAll("li").forEach((t=>t.classList.remove("active"))),r.classList.add("active");const n=a.querySelector("span");n&&(n.textContent=r.textContent),o.classList.remove("open"),s="1"===r.dataset.zpop?s.slice().sort(((t,e)=>e.savedAt-t.savedAt)):s.slice().sort(((t,e)=>t.name.localeCompare(e.name))),i(s,t)}))})),a.onclick=t=>{t.stopPropagation(),o.classList.toggle("open")},document.onclick=t=>{o.contains(t.target)||o.classList.remove("open")})}e&&(e.oninput=e=>{const o=e.target.value.trim().toLowerCase();s=a.filter((t=>t.name.toLowerCase().includes(o)));const r=document.querySelector(".zPop li.active");r&&"1"===r.dataset.zpop?s.sort(((t,e)=>e.savedAt-t.savedAt)):s.sort(((t,e)=>t.name.localeCompare(e.name))),i(s,t)})}t.renderFavoriteArtists=r,r(),setInterval((()=>{const t=localStorage.getItem("favoriteArtists");t!==o&&(o=t,r())}),5e3),t.addEventListener("storage",(t=>{"favoriteArtists"===t.key&&(o=t.newValue,r())}))}(window);
