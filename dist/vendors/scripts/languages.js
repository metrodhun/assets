!function(){const t="userSelectedLanguages",n=t=>document.querySelector(t),e=t=>Array.from(document.querySelectorAll(t)),o=n(".headLS"),a=n(".selectLH"),i=n("[data-lang-open]");let s,l=[],c=!1;async function d(){const n=localStorage.getItem(t);return n?JSON.parse(n):[]}function r(t){a.textContent=t.length?t.join(", "):"Default"}function u(){s&&(s.remove(),s=null,c||r(l)),o.classList.remove("active"),document.removeEventListener("click",g)}function g(t){s&&!s.contains(t.target)&&t.target!==i&&t.target!==o&&u()}!async function(){const a=await d();a.length&&r(a);const w=a=>{a.stopPropagation(),s?u():async function(){const a=await d();l=[...a],c=!1,o.classList.add("active"),s=document.createElement("div"),s.className="lang-dropdown active",s.innerHTML=`<div class="f fdc pd-22"><h2 class="langShead" role="heading">What music do you like?</h2><span class="langSTxt"><em>Choose the languages you want to listen to.</em></span></div><div class="msg langError">You must select a language</div><form><section class="f fdc langSec"><ul class="f fw">${["Hindi","English","Punjabi","Tamil","Telugu","Marathi","Khortha","Bangla","Kannada","Bhojpuri","Malayalam","Nepali","Haryanvi","Korean","Odia","Assamese"].map((t=>`<li class="f ai-c lang-item${a.includes(t)?" select":""}">${t}</li>`)).join("")}</ul></section><div class="pd-22 langBottom"><button aria-label="Update song language" class="btn udLangBtn" type="button">Update</button></div></form>`;const w=i.getBoundingClientRect();s.style.top=`${w.bottom+24+window.scrollY}px`,document.body.appendChild(s),e(".lang-dropdown .lang-item").forEach((t=>{t.addEventListener("click",(()=>{const o=t.classList.contains("select"),a=e(".lang-dropdown .select");if(!o&&a.length>=4)return void toastNotif.already("Max 4 allowed");t.classList.toggle("select");const i=e(".lang-dropdown .select").map((t=>t.textContent));r(i),n(".langError").classList.toggle("active",0===i.length)}))})),n(".udLangBtn").addEventListener("click",(async()=>{const o=e(".lang-dropdown .select").map((t=>t.textContent));o.length?o.length===l.length&&o.every((t=>l.includes(t)))?u():(localStorage.setItem(t,JSON.stringify(o)),localStorage.setItem("isLanguageSelected","true"),c=!0,r(o),u(),toastNotif(`We will show music in ${o.join(", ")}`),"function"==typeof window.loadForYouSongs&&window.loadForYouSongs(),"function"==typeof window.initArtistSection&&window.initArtistSection(),"function"==typeof window.initAutoGenSections&&window.initAutoGenSections(),"function"==typeof window.initAutoGenExtraSections&&window.initAutoGenExtraSections(),"function"==typeof window.initAutoGenPlaylistSections&&window.initAutoGenPlaylistSections()):n(".langError").classList.add("active")})),document.addEventListener("click",g)}()};i.addEventListener("click",w),o.addEventListener("click",w),document.addEventListener("click",(function(t){t.target.closest('[data-show-lang="true"]')&&w(t)}))}()}();
