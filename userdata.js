!function(){const t={};function n(){if("true"===localStorage.getItem("isLanguageSelected"))return;const t=localStorage.getItem("userFetchedData");if(t)try{!function(t){if(!t||"object"!=typeof t)return;const n=t.country||"",e=t.city||"";let a=["English"];"India"===n?a={Mumbai:["Hindi","Punjabi"],Hyderabad:["Telugu"],Chandigarh:["Punjabi","Hindi"],Chennai:["Tamil"],Kolkata:["Bangla","Hindi"],Bhubaneswar:["Odia","Hindi","Bangla"],Kanpur:["Hindi","Bhojpuri"],Patna:["Bhojpuri","Hindi"],Kochi:["Kannada","Malayalam"],"New Delhi":["Hindi"],Nagpur:["Marathi","Hindi"],Bangalore:["Malayalam","Kannada"],Ahmedabad:["Hindi"],Kannur:["Kannada"]}[e]||["Hindi"]:"South Korea"===n&&(a=["Korean"]);localStorage.setItem("userSelectedLanguages",JSON.stringify(a))}(JSON.parse(t))}catch(t){console.error("Error parsing userFetchedData:",t)}}!function(t){const n=async()=>{if(e.country||(e.country=await fetch(e.json.country).then((t=>t.json()))),!e.locations){const t=await fetch(e.json.locations).then((t=>t.json()));e.locations=Array.isArray(t)?t:[]}return{country:e.country,locations:e.locations}},e=async(t=!1)=>{if(t&&e.last)return e.last;try{const t=await fetch(e.trace).then((t=>t.text())),n=e.map,a=e.exclude,o=t.trim().split("\n").reduce(((t,n)=>{const[e,a]=n.split("=").map((t=>t.trim()));return e&&(t[e]="ts"===e?1e3*+a:a),t}),{});o.location=await e.getLocation(o.colo),o.country=await e.getCountry(o.loc);const r=Object.keys(o).reduce(((t,e)=>{const r=e in n?n[e]:e;return r&&!a.includes(r)&&Object.defineProperty(t,r,{value:o[e]}),t}),{});return e.last=r,r}catch(t){throw console.error("Error processing trace data:",t),t}};Object.assign(e,{trace:"https://www.cloudflare.com/cdn-cgi/trace",json:{locations:"https://raw.githubusercontent.com/Netrvin/cloudflare-colo-list/main/locations.json",country:"https://raw.githubusercontent.com/Netrvin/cloudflare-colo-list/main/country.json"},map:{ts:"timestamp",visit_scheme:"visitScheme",uag:"userAgent"},exclude:["h"],locations:null,country:null,last:null}),Object.defineProperties(e,{getList:{value:n},getCountry:{value:async t=>{if("string"==typeof t&&t.trim()){const{country:e}=await n();if("string"==typeof e[t])return e[t]}return null}},getLocation:{value:async t=>{if("string"==typeof t&&t.trim()){const{locations:e}=await n();return e.find((n=>n.iata===t))||null}return null}}}),Object.defineProperty(t,"getIp",{value:e})}(t),window.addEventListener("storage",(t=>{"userFetchedData"===t.key&&t.newValue&&n()})),async function(){try{const n=await t.getIp(!0);let e={};if("string"==typeof n.location)try{e=JSON.parse(n.location)}catch(t){console.error("Error parsing location data:",t),e={}}else e=n.location||{};const a={countryCode:e.cca2||"No Information",city:e.city||"No Information",location:e||{},country:n.country||"No Information",ip:n.ip||"No Information"};localStorage.setItem("userFetchedData",JSON.stringify(a)),function(t,n,e){const a=new Date;a.setTime(a.getTime()+24*e*60*60*1e3),document.cookie=`${t}=${encodeURIComponent(n)}; expires=${a.toUTCString()}; path=/; SameSite=Lax`}("userFetchedData",JSON.stringify(a),36500)}catch(t){console.error("Error fetching user info:",t)}}(),n()}();
