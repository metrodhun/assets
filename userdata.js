const utils={};async function userDetectedData(){try{const t=await utils.getIp(!0);let e={};if("string"==typeof t.location)try{e=JSON.parse(t.location)}catch(t){console.error("Error parsing location data:",t),e={}}else e=t.location||{};const n={countryCode:e.cca2||"No Information",city:e.city||"No Information",location:e||{},country:t.country||"No Information",ip:t.ip||"No Information"};localStorage.setItem("userFetchedData",JSON.stringify(n)),setCookie("userFetchedData",JSON.stringify(n),36500)}catch(t){console.error("Error fetching user info:",t)}}function setCookie(t,e,n){const a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),document.cookie=`${t}=${encodeURIComponent(e)}; expires=${a.toUTCString()}; path=/; SameSite=Lax`}function getCookie(t){const e=document.cookie.split("; ");for(let n=0;n<e.length;n++){const[a,o]=e[n].split("=");if(a===t)return decodeURIComponent(o)}return null}function updateUserLanguages(t){if(!t||"object"!=typeof t)return;const e=t.country||"",n=t.city||"";let a=["English"];if("India"===e){a={Mumbai:["Hindi","Punjabi"],Hyderabad:["Telugu"],Chandigarh:["Punjabi","Hindi"],Chennai:["Tamil"],Kolkata:["Bangla","Hindi"],Bhubaneswar:["Odia","Hindi","Bangla"],Kanpur:["Hindi","Bhojpuri"],Patna:["Bhojpuri","Hindi"],Kochi:["Kannada","Malayalam"],"New Delhi":["Hindi"],Nagpur:["Marathi","Hindi"],Bangalore:["Malayalam","Kannada"],Ahmedabad:["Hindi"],Kannur:["Kannada"]}[n]||["Hindi"]}else"South Korea"===e&&(a=["Korean"]);localStorage.setItem("userSelectedLanguages",JSON.stringify(a))}function checkAndProcessUserData(){if("true"===localStorage.getItem("isLanguageSelected"))return;const t=localStorage.getItem("userFetchedData");if(t)try{updateUserLanguages(JSON.parse(t))}catch(t){console.error("Error parsing userFetchedData:",t)}}!function(t,e){const n=async()=>{if(a.country||(a.country=await fetch(a.json.country).then((t=>t.json()))),!a.locations){const t=await fetch(a.json.locations).then((t=>t.json()));a.locations=Array.isArray(t)?t:[]}return{country:a.country,locations:a.locations}},a=async(t=!1)=>{if(t&&a.last)return a.last;try{const t=await fetch(a.trace).then((t=>t.text())),e=a.map,n=a.exclude,o=t.trim().split("\n").reduce(((t,e)=>{const[n,a]=e.split("=").map((t=>t.trim()));return n&&(t[n]="ts"===n?1e3*+a:a),t}),{});o.location=await a.getLocation(o.colo),o.country=await a.getCountry(o.loc);const r=Object.keys(o).reduce(((t,a)=>{const r=a in e?e[a]:a;return r&&!n.includes(r)&&Object.defineProperty(t,r,{value:o[a]}),t}),{});return a.last=r,r}catch(t){throw console.error("Error processing trace data:",t),t}};Object.assign(a,{trace:"https://www.cloudflare.com/cdn-cgi/trace",json:{locations:"https://raw.githubusercontent.com/Netrvin/cloudflare-colo-list/main/locations.json",country:"https://raw.githubusercontent.com/Netrvin/cloudflare-colo-list/main/country.json"},map:{ts:"timestamp",visit_scheme:"visitScheme",uag:"userAgent"},exclude:["h"],locations:null,country:null,last:null}),Object.defineProperties(a,{getList:{value:n},getCountry:{value:async t=>{if("string"==typeof t&&t.trim()){const{country:e}=await n();if("string"==typeof e[t])return e[t]}return null}},getLocation:{value:async t=>{if("string"==typeof t&&t.trim()){const{locations:e}=await n();return e.find((e=>e.iata===t))||null}return null}}}),Object.defineProperty(t,"getIp",{value:a})}(utils),userDetectedData(),window.addEventListener("storage",(t=>{"userFetchedData"===t.key&&t.newValue&&checkAndProcessUserData()})),checkAndProcessUserData();
