!function(){function t(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}async function a(){const a=document.querySelector(".topSongDom");if(!a)return;const s=Array.from(a.parentNode.children).find((t=>t!==a&&t.classList.contains("contentSong")&&t.classList.contains("domT")&&t.classList.contains("auto")));if(!s)return;const e=s.querySelector("#dom-auto-data");if(!e)return;const i=e.getAttribute("data-dom-title-name")||"",n=e.getAttribute("data-dom-image")||"",l=s.getAttribute("data-content-type")||"",c=(s.getAttribute("data-fetch-id"),t(i)),o=t(l);let r=n.trim();if(!r)try{const t=await fetch("https://raw.githubusercontent.com/metrodhun/music-database/refs/heads/main/music-database.json"),a=(await t.json()).find((t=>t.person_name===i));a&&a.person_image&&(r=a.person_image)}catch(t){console.warn("Failed to fetch JSON DB:",t)}r||(r="https://cdn.metrodhun.com/default-500x500.jpg"),r=t(r);const d=`<div class="f ai-c cAS"><div class="cL"><div class="imgL"><img alt="${c} Image" class="imgC" height="250" loading="lazy" src="${r}" width="250" /><span class="angL"></span></div></div><div class="cR">${`<div class="sg-info sTY"><span>${o}</span></div>`.trim()} ${c?`<h2 class="sg-h p-title"><span>${c}</span></h2>`:""}<div class="sg-info inBtns">${`<button class="mx-btn" data-play-from="Artist" data-play-title-name="${c}" data-play-id="false" aria-label="Play ${c} ${o} Songs" type="button"><span class="mx-svg"><svg class="isPlaySvg" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg><svg class="isPauseSvg" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg><svg class="isEQSvg" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" x2="3" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" x2="8" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" x2="13" y1="22" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" x2="18" y1="22" y2="2"></line></svg></span><span class="b mx-txt sPLY" data-text="Play"></span><span class="b mx-txt sPAU" data-text="Pause"></span></button>`.trim()}</div></div></div>`.trim();a.innerHTML=d}window.updateDomAutoFetch=a,a()}();
!function(){"use strict";async function t(){const t=document.querySelector('.contentSong.domT.auto[data-generated="Auto"]');if(!t)return;const a=t.querySelector("#dom-auto-data[data-dom-title-name]");if(!a)return;const e=a.dataset.domTitleName.trim();if(!e)return;const s=document.querySelector(".iMoreInDom");if(!s)return;const o=`/feeds/posts/default?max-results=99&q=${encodeURIComponent(e)}&alt=json`;let i;try{const t=await fetch(o);if(!t.ok)throw new Error(t.statusText);i=await t.json()}catch(t){return console.error("Failed to fetch feed:",t),void(s.textContent="Failed to load related songs.")}const n=i.feed?.entry||[];if(!n.length)return void(s.textContent="No related songs found.");const r=[];for(const t of n){const a=t.category;if(!Array.isArray(a))continue;if(a.some((t=>"Main Album"===t.term)))continue;if(!a.some((t=>"Song"===t.term)))continue;const e=t.content?.$t;if(!e)continue;const s=(new DOMParser).parseFromString(e,"text/html").querySelector("#post-song-data");if(!s)continue;const o=t.id?.$t||"",i=(o.includes("post-")?o.split("post-")[1]:"")||s.getAttribute("data-music")||"";i&&r.push({playId:i,songName:s.getAttribute("data-title-name")||"",artist:s.getAttribute("data-artist")||"",duration:s.getAttribute("data-duration")||"",songImg:s.getAttribute("data-image")||"",postUrl:t.link?.find((t=>"alternate"===t.rel))?.href||"#"})}if(!r.length)return void(s.textContent="No songs matching “Song” category.");s.innerHTML="";const d=['<div class="rAS">','<div class="mgb-22 rasTT"><div class="rasHead"><div class="rasNPP">#</div><div class="rasTitle">Title</div><div class="rasExtra"><svg role="img" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 16 16"><path d="M8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8"></path><path d="M8 3.25a.75.75 0 0 1 .75.75v3.25H11a.75.75 0 0 1 0 1.5H7.25V4A.75.75 0 0 1 8 3.25"></path></svg></div></div></div>'];r.forEach(((t,a)=>{const e=a+1;let s="";if(t.artist.includes(","))s=t.artist.split(",").map((t=>t.trim())).filter(Boolean).map((t=>`<a class="domLoadContent" data-dom-id="false" data-dom-auto="Artist" href="/search?q=${encodeURIComponent(t)}" data-dom-type="Post">${t}</a>`)).join(", ");else if(t.artist.trim()){const a=t.artist.trim();s=`<a class="domLoadContent" data-dom-id="false" data-dom-auto="Artist" href="/search?q=${encodeURIComponent(a)}" data-dom-type="Post">${a}</a>`}d.push(`<div class="rasTTC"><div class="rasContent" data-related-song="${e}" data-related-id="${t.playId}"><div class="rasNPP"><span class="numFD">${e}</span><button title="Play" class="btn mx-rel" data-play-from="Dom Auto Songs List" type="button" data-play-id="${t.playId}"><span class="plyr-icon-play"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M232.3,114.3,88.3,26.4a15.5,15.5,0,0,0-16.1-.3A15.8,15.8,0,0,0,64,40V216a15.8,15.8,0,0,0,8.2,13.9,15.5,15.5,0,0,0,16.1-.3l144-87.9a16,16,0,0,0,0-27.4Z"></path></svg></span><span class="plyr-icon-pause"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M216,48V208a16,16,0,0,1-16,16H164a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h36A16,16,0,0,1,216,48ZM92,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H92a16,16,0,0,0,16-16V48A16,16,0,0,0,92,32Z"></path></svg></span><span class="plyr-equalizer"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 21 24"><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="3" y1="22" x2="3" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="8" y1="22" x2="8" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="13" y1="22" x2="13" y2="2"></line><line class="equalizer-slide" stroke="#fff" stroke-width="2" x1="18" y1="22" x2="18" y2="2"></line></svg></span></button></div><div class="rasTitle"><div class="rasTitleIn"><div class="elp1 rastSN "><a class="domLoadContent" data-dom-id="${t.playId}" data-dom-type="Post" href="${t.postUrl}">${t.songName}</a></div><div class="elp1 rastSGN">${s}</div></div></div><div class="rasExtra"><div class="rasFB"><button class="btn is-small is-primary fav-rmas" data-fav-id="${t.playId}" title="Add to favorites" type="button"><svg class="hOff" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 256 256"><path d="M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg></button></div><div class="rasDUR"><span>${t.duration}</span></div><div class="rasMO"><button class="song-option more-menu" data-morelist-id="${t.playId}" data-morelist-type="Song" data-morelist-image="${t.songImg}" data-morelist-url="${t.postUrl}" data-morelist-artist="${t.artist}" data-morelist-title="${t.songName}" title="View options" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 512 512"><path d="M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"/></svg></button></div></div></div></div>`)})),d.push("</div>"),s.innerHTML=d.join("")}window.intDomAutoRelatedSongs=t,t()}();
